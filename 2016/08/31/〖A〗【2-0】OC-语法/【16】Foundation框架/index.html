<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <link rel="apple-touch-icon" href="touch-icon-mac.png">
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
  
  
  

  
    
    
  

  

  

  
    
      
    

    
  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|comic sans:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  




<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="SanFordy`s Magic" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Foundation：基础框架。框架中包含了很多开发中常用的数据类型，如结构体，枚举，类等，是其他ios框架的基础。">
<meta property="og:type" content="article">
<meta property="og:title" content="【16】Foundation框架">
<meta property="og:url" content="http://sanfordy.com/2016/08/31/〖A〗【2-0】OC-语法/【16】Foundation框架/index.html">
<meta property="og:site_name" content="SanFordy`s Magic">
<meta property="og:description" content="Foundation：基础框架。框架中包含了很多开发中常用的数据类型，如结构体，枚举，类等，是其他ios框架的基础。">
<meta property="og:image" content="http://images2015.cnblogs.com/blog/776348/201608/776348-20160831181444621-1522185614.jpg">
<meta property="og:image" content="http://images2015.cnblogs.com/blog/776348/201608/776348-20160831182418886-1199302970.jpg">
<meta property="og:image" content="http://images2015.cnblogs.com/blog/776348/201608/776348-20160831182426465-1985118258.jpg">
<meta property="og:image" content="http://images2015.cnblogs.com/blog/776348/201608/776348-20160831182431980-1263950777.jpg">
<meta property="og:updated_time" content="2016-08-31T14:10:33.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【16】Foundation框架">
<meta name="twitter:description" content="Foundation：基础框架。框架中包含了很多开发中常用的数据类型，如结构体，枚举，类等，是其他ios框架的基础。">
<meta name="twitter:image" content="http://images2015.cnblogs.com/blog/776348/201608/776348-20160831181444621-1522185614.jpg">


<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: undefined,
      author: '博主'
    }
  };
</script>



  <title> 【16】Foundation框架 | SanFordy`s Magic </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">SanFordy`s Magic</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">　　　　　　</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                【16】Foundation框架
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-31T18:12:06+08:00" content="2016-08-31">
              2016-08-31
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/〖A〗【2-0】OC-语法/" itemprop="url" rel="index">
                    <span itemprop="name">〖A〗【2-0】OC-语法</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/31/〖A〗【2-0】OC-语法/【16】Foundation框架/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/31/〖A〗【2-0】OC-语法/【16】Foundation框架/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
              &nbsp; | &nbsp;
              <span class="page-pv">
              <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>次数阅读
              </span>
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>Foundation：基础框架。框架中包含了很多开发中常用的数据类型，如结构体，枚举，类等，是其他ios框架的基础。</p>
</blockquote>
<a id="more"></a>
<h2 id="Cocoa概述"><a href="#Cocoa概述" class="headerlink" title="Cocoa概述"></a>Cocoa概述</h2><p>为什么前面说的内容中新建一个类的时候我们都是选择<code>Cocoa Class</code>呢？Cocoa是什么呢？</p>
<p><code>Cocoa</code>不是一种编程语言（它可以运行多种编程语言），它也不是一个开发工具（通过命令行我们仍然可以开发Cocoa程序），它是创建Mac OS X和IOS程序的原生面向对象API，为这两者应用提供了编程环境。</p>
<p>我们通常称为“Cocoa框架”，事实上Cocoa本身是一个框架的集合，它包含了众多子框架，其中最重要的要数“Foundation”和“UIKit”。前者是框架的基础，和界面无关，其中包含了大量常用的API；后者是基础的UI类库，以后我们在IOS开发中会经常用到。这两个框架在系统中的位置如下图：</p>
<p><img src="http://images2015.cnblogs.com/blog/776348/201608/776348-20160831181444621-1522185614.jpg" alt=""></p>
<h2 id="Foundation概述"><a href="#Foundation概述" class="headerlink" title="Foundation概述"></a>Foundation概述</h2><p>Foundation：基础框架。框架中包含了很多开发中常用的数据类型，如结构体，枚举，类等，是其他iOS框架的基础。</p>
<p>如果要想使用foundation框架中的数据类型，那么包含它的主头文件就可以了。即#import<foundation foundation.h=""></foundation></p>
<p>core foundation框架相对底层，里面的代码几乎都是c语言的，而foundation中是OC的。</p>
<p>其实所有的Mac OS X和iOS程序都是由大量的对象构成，而这些对象的根对象都是NSObject，NSObject就处在Foundation框架之中，具体的类结构如下：</p>
<p><img src="http://images2015.cnblogs.com/blog/776348/201608/776348-20160831182418886-1199302970.jpg" alt=""></p>
<p><img src="http://images2015.cnblogs.com/blog/776348/201608/776348-20160831182426465-1985118258.jpg" alt=""></p>
<p><img src="http://images2015.cnblogs.com/blog/776348/201608/776348-20160831182431980-1263950777.jpg" alt=""></p>
<h2 id="常用结构体"><a href="#常用结构体" class="headerlink" title="常用结构体"></a>常用结构体</h2><p>在Foundation中定义了很多常用结构体类型来简化我们的日常开发，这些结构体完全采用Objective-C定义，和我们自己定义的结构体没有任何区别，之所以由框架为我们提供完全是为了简化我们的开发。</p>
<p>常用的结构体：</p>
<ol>
<li>NSRange（location length）：表示范围。</li>
<li>NSPoint/CGPoint：表示坐标。</li>
<li>NSSize/CGSize：表示UI元素的尺寸。</li>
<li>NSRect/CGRect（CGPoint CGSize）：表示一个UI元素的位置和尺寸。</li>
</ol>
<p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - NSRange的使用 -</span></span><br><span class="line"><span class="keyword">void</span> test1()&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  第一种创建方式（第一参数是起始位置，第二个参数是长度）</span></span><br><span class="line">    <span class="built_in">NSRange</span> rg1 = &#123;<span class="number">3</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="comment">//  第二种创建方式（这种方式比较常见）</span></span><br><span class="line">    <span class="built_in">NSRange</span> rg2 = <span class="built_in">NSMakeRange</span>(<span class="number">3</span>,<span class="number">5</span>);</span><br><span class="line">    <span class="comment">//  打印NSRange可以使用Foundation中方法（注意不能直接NSLog(@"rg2 is %@", rg2)，因为rg2不是对象（准确的说%@是指针）而是结构体）</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"rg2 is %@"</span>, <span class="built_in">NSStringFromRange</span>(rg2));<span class="comment">//  输出：rg2 is &#123;3, 5&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  简单使用：查找某个字符串在str中的范围</span></span><br><span class="line">    <span class="built_in">NSString</span> *str = <span class="string">@"wo shi da SB"</span>;</span><br><span class="line">    <span class="built_in">NSRange</span> rg3 = [str rangeOfString:<span class="string">@"da"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"location = %ld,lenth = %ld"</span>,rg3.location,rg3.length);<span class="comment">// 输出：location = 7,lenth = 2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - NSPoint/CGPoint的使用 -</span></span><br><span class="line"><span class="keyword">void</span> test2()&#123;</span><br><span class="line">    <span class="comment">//  NSPoint其实就是CGPoint，开发中常用CGPoint，因为他是跨平台的）</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  第一种创建方式</span></span><br><span class="line">    <span class="built_in">NSPoint</span> p1 = <span class="built_in">NSMakePoint</span>(<span class="number">10</span>, <span class="number">15</span>);</span><br><span class="line">    <span class="comment">//  第二种创建方式（这种方式比较常见）</span></span><br><span class="line">    <span class="built_in">CGPoint</span> p2 = <span class="built_in">CGPointMake</span>(<span class="number">10</span>, <span class="number">15</span>);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,<span class="built_in">NSStringFromPoint</span>(p2));<span class="comment">//   输出：&#123;10, 15&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  简单使用：比较两个点是否相同</span></span><br><span class="line">    <span class="built_in">BOOL</span> b = <span class="built_in">CGPointEqualToPoint</span>(p1, p2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - NSSize/CGSize的使用 -</span></span><br><span class="line"><span class="keyword">void</span> test3()&#123;</span><br><span class="line">    <span class="comment">//  NSSize其实就是CGSize</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  第一种创建方式（宽度10，高度15）</span></span><br><span class="line">    <span class="built_in">NSSize</span> s1 = <span class="built_in">NSMakeSize</span>(<span class="number">10</span>, <span class="number">15</span>);</span><br><span class="line">    <span class="comment">//  第二种创建方式（这种方式比较常见）</span></span><br><span class="line">    <span class="built_in">CGSize</span> s2=<span class="built_in">CGSizeMake</span>(<span class="number">100</span>, <span class="number">150</span>);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,<span class="built_in">NSStringFromSize</span>(s2));<span class="comment">//    输出：&#123;100, 150&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  简单使用：比较两个尺寸是否相同</span></span><br><span class="line">    <span class="built_in">BOOL</span> b = <span class="built_in">CGSizeEqualToSize</span>(s1, s2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - NSRect/CGRect的使用 -</span></span><br><span class="line"><span class="keyword">void</span> test4()&#123;</span><br><span class="line">    <span class="comment">//  NSRect其实就是CGRect</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  第一种创建方式</span></span><br><span class="line">    <span class="built_in">NSRect</span> r1 = <span class="built_in">NSMakeRect</span>(<span class="number">10</span>, <span class="number">5</span>, <span class="number">100</span>, <span class="number">200</span>);</span><br><span class="line">    <span class="comment">//  第二种创建方式（这种方式比较常见）</span></span><br><span class="line">    <span class="built_in">NSRect</span> r2=<span class="built_in">CGRectMake</span>(<span class="number">10</span>, <span class="number">5</span>, <span class="number">100</span>, <span class="number">200</span>);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,<span class="built_in">NSStringFromRect</span>(r2));<span class="comment">//    输出：&#123;&#123;10, 5&#125;, &#123;100, 200&#125;&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  简单使用1：比较两个区域是否相同</span></span><br><span class="line">    <span class="built_in">BOOL</span> b1 = <span class="built_in">CGRectEqualToRect</span>(r1, r2);</span><br><span class="line">    <span class="comment">//  简单使用2：判断这个点是否在区域范围内</span></span><br><span class="line">    <span class="built_in">BOOL</span> b2 = <span class="built_in">CGRectContainsPoint</span>(r1, <span class="built_in">CGPointMake</span>(<span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        test1();</span><br><span class="line">        test2();</span><br><span class="line">        test3();</span><br><span class="line">        test4();</span><br><span class="line">    &#125; <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="日期"><a href="#日期" class="headerlink" title="日期"></a>日期</h2><p>接下来熟悉一下Foundation框架中日期的操作：</p>
<p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  NSDate类创建的对象永远都是零时区（格林尼治标准时间，当前时间-8个小时）的时间对象</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  输出所有时区信息</span></span><br><span class="line">    <span class="built_in">NSArray</span> *names = [<span class="built_in">NSTimeZone</span> knownTimeZoneNames];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,names);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  通过便利构造器创建的时间对象表示了当前的时间</span></span><br><span class="line">    <span class="built_in">NSDate</span> *date1 = [<span class="built_in">NSDate</span> date];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,date1); <span class="comment">//  结果：2015-12-30 13:46:40 +0000</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  在当前日期的基础上加上100秒，注意在OC中多数时间单位都是秒</span></span><br><span class="line">    <span class="built_in">NSDate</span> *date2 = [<span class="built_in">NSDate</span> dateWithTimeIntervalSinceNow:<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,date2); <span class="comment">//  结果：2015-12-30 13:48:20 +0000</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  随机获取一个将来的日期</span></span><br><span class="line">    <span class="built_in">NSDate</span> *date3 = [<span class="built_in">NSDate</span> distantFuture];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,date3); <span class="comment">//  结果：4001-01-01 00:00:00 +0000</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  根据给定的时间段推算距离2001年1月1日零点的时间</span></span><br><span class="line">    <span class="built_in">NSDate</span> *date4 = [<span class="built_in">NSDate</span> dateWithTimeIntervalSinceReferenceDate:<span class="number">24</span>*<span class="number">3600</span>*<span class="number">365</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,date4);<span class="comment">//   结果：2002-01-01 00:00:00 +0000</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  根据给定的时间片段推算距离零时区1970年1月1日零点的时间</span></span><br><span class="line">    <span class="built_in">NSDate</span> *date5 = [<span class="built_in">NSDate</span> dateWithTimeIntervalSince1970:<span class="number">24</span>*<span class="number">3600</span>*<span class="number">365</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,date5);<span class="comment">//   结果：1971-01-01 00:00:00 +0000</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  返回比较早的日期（同样也有返回较晚的时间：laterDate:）</span></span><br><span class="line">    <span class="built_in">NSDate</span> *date6 = [date1 earlierDate:date2];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,date6); <span class="comment">//  结果：2015-12-30 13:46:40 +0000</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  两个日期之差，返回单位为秒</span></span><br><span class="line">    <span class="built_in">NSTimeInterval</span> timeInterval1=[date2 timeIntervalSinceDate:date1];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%f"</span>,timeInterval1); <span class="comment">//   结果：100.003422</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  当前对象距离1970年1月1日的时间段（同样的还有：SinceNow，SinceReferenceDate）</span></span><br><span class="line">    <span class="built_in">NSTimeInterval</span> timeInterval2 = [date3 timeIntervalSince1970];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%f"</span>,timeInterval2);<span class="comment">//   结果：64092211200.000000</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  判断两个时间对象是否相同</span></span><br><span class="line">    <span class="built_in">BOOL</span> result = [date2 isEqual:date3];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,result ? <span class="string">@"YES"</span> :<span class="string">@"NO"</span>);<span class="comment">//  结果：NO</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  自定义日期格式</span></span><br><span class="line">    <span class="built_in">NSDateFormatter</span> *formater = [[<span class="built_in">NSDateFormatter</span> alloc]init];</span><br><span class="line">    formater.dateFormat = <span class="string">@"yyyy年-MM月-dd日 hh:mm:ss"</span>;</span><br><span class="line">    <span class="built_in">NSString</span> *datestr1=[formater stringFromDate:date1];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,datestr1); <span class="comment">//   结果：2015年-12月-30日 09:46:40</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  字符串转化为日期</span></span><br><span class="line">    <span class="built_in">NSDate</span> *date7 = [formater dateFromString:<span class="string">@"2015年-12月-30日 09:46:26"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,date7); <span class="comment">//  结果：2015-12-30 01:46:26 +0000</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  设置系统日期样式</span></span><br><span class="line">    [formater setDateStyle:(<span class="built_in">NSDateFormatterFullStyle</span>)];</span><br><span class="line">    <span class="built_in">NSString</span> *datestr2 = [formater stringFromDate:date1];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,datestr2);<span class="comment">//    结果：2015年12月30日 星期三</span></span><br><span class="line">    <span class="comment">//  设置系统时间样式</span></span><br><span class="line">    [formater setTimeStyle:(<span class="built_in">NSDateFormatterFullStyle</span>)];</span><br><span class="line">    <span class="built_in">NSString</span> *datestr3 = [formater stringFromDate:date1];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,datestr3);<span class="comment">//    结果：2015年12月30日 星期三 中国标准时间下午9:46:40</span></span><br><span class="line">    <span class="comment">//  设置对应的时区信息</span></span><br><span class="line">    [formater setTimeZone:[<span class="built_in">NSTimeZone</span> timeZoneWithName:<span class="string">@"America/Santiago"</span>]];</span><br><span class="line">    <span class="built_in">NSString</span> *datestr4 = [formater stringFromDate:date6];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@ "</span>,datestr4);<span class="comment">//   结果：2015年12月30日 星期三 智利标准时间上午10:46:40</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>C语言中，字符串是由char（ASCII码）字符组成，OC中，字符串是由uichar（Unicode）字符组成。</p>
<h3 id="NSString"><a href="#NSString" class="headerlink" title="NSString"></a>NSString</h3><p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - 字符串创建 -</span></span><br><span class="line"><span class="keyword">void</span> test1()&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  语法糖，不需要管理内存</span></span><br><span class="line">    <span class="built_in">NSString</span> *str2=<span class="string">@"OC string"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  根据指定格式创建字符串</span></span><br><span class="line">    <span class="built_in">NSString</span> *str3 = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"age is %i,name is %.2f"</span>,<span class="number">19</span>,<span class="number">1.72</span>f];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  这是C语言创建的字符串</span></span><br><span class="line">    <span class="keyword">char</span> *str1=<span class="string">"C string"</span>;</span><br><span class="line">    <span class="comment">//  C语言的字符串转换为OC字符串1</span></span><br><span class="line">    <span class="built_in">NSString</span> *str4 = [<span class="built_in">NSString</span> stringWithUTF8String:<span class="string">"C string"</span>];</span><br><span class="line">    <span class="comment">//  C语言的字符串转换为OC字符串2</span></span><br><span class="line">    <span class="built_in">NSString</span> *str5 = [<span class="built_in">NSString</span> stringWithCString:str1 encoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  根据指定路径的文件内容创建字符串对象</span></span><br><span class="line">    <span class="built_in">NSString</span> *str6 = [<span class="built_in">NSString</span> stringWithContentsOfFile:<span class="string">@"/Users/lanouhn/Desktop/test.txt"</span> encoding:<span class="built_in">NSUTF8StringEncoding</span> error:<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str6);<span class="comment">//    结果：桌面上的txt文件</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - 字符串大小写转化 -</span></span><br><span class="line"><span class="keyword">void</span> test2()&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  转化成大写</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"\"Hello world!\" to upper is %@"</span>,[<span class="string">@"Hello world!"</span> uppercaseString]);<span class="comment">//  结果："Hello world!" to upper is HELLO WORLD!</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  转化成小写</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"\"Hello world!\" to lowwer is %@"</span>,[<span class="string">@"Hello world!"</span> lowercaseString]);<span class="comment">// 结果："Hello world!" to lowwer is hello world!</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  首字母大写，其他字母小写</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"\"Hello world!\" to capitalize is %@"</span>,[<span class="string">@"Hello world!"</span> capitalizedString]);<span class="comment">//   结果："Hello world!" to capitalize is Hello World!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - 字符串比较及判断 -</span></span><br><span class="line"><span class="keyword">void</span> test3()&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  比较：比较两个字符串的大小（如果是[@"abc" caseInsensitiveCompare:@"aBc"]则忽略大小写比较）</span></span><br><span class="line">    <span class="built_in">NSComparisonResult</span> result2= [<span class="string">@"abc"</span> compare:<span class="string">@"aBc"</span>];</span><br><span class="line">    <span class="keyword">if</span>(result2 == <span class="built_in">NSOrderedAscending</span>)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"left&lt;right."</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(result2==<span class="built_in">NSOrderedDescending</span>)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"left&gt;right."</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(result2==<span class="built_in">NSOrderedSame</span>)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"left=right."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//结果：left&gt;right.</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  判断：判断两个字符串是否相同</span></span><br><span class="line">    <span class="built_in">BOOL</span> result= [<span class="string">@"abc"</span> isEqualToString:<span class="string">@"aBc"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%i"</span>,result);<span class="comment">//  结果：0</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  判断：判断一个字符串是否拥有前缀字符串</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"has prefix ab? %i"</span>,[<span class="string">@"abcdef"</span> hasPrefix:<span class="string">@"ab"</span>]);<span class="comment">//  结果：has prefix ab? 1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  判断：判断一个字符串是否拥有后缀</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"has suffix ab? %i"</span>,[<span class="string">@"abcdef"</span> hasSuffix:<span class="string">@"ef"</span>]);<span class="comment">//  结果：has suffix ab? 1</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - 字符串分割及拼接 -</span></span><br><span class="line"><span class="keyword">void</span> test4()&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  分割：从第三个索引开始（包括第三个索引对应的字符）截取到最后一位（字符串中一个字符拥有一个下标，从0下标开始）</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[<span class="string">@"abcdef"</span> substringFromIndex:<span class="number">3</span>]);<span class="comment">//  结果：def</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  分割：从0开始截取到第三个索引（不包括第三个索引对应的字符）</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[<span class="string">@"abcdef"</span> substringToIndex:<span class="number">3</span>]);<span class="comment">//  结果：abc</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  分割：从下标为2（包括2）的字符往后取3个字符</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[<span class="string">@"abcdef"</span> substringWithRange:<span class="built_in">NSMakeRange</span>(<span class="number">2</span>, <span class="number">3</span>)]);<span class="comment">//    结果：cde</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  分割：获取在字符串A中字符串B的位置（注意如果遇到cde则不再往后面搜索,如果从后面搜索或其他搜索方式可以设置第二个options参数）</span></span><br><span class="line">    <span class="built_in">NSRange</span> range=[<span class="string">@"abcdefabcdef"</span> rangeOfString:<span class="string">@"cde"</span>];</span><br><span class="line">    <span class="keyword">if</span>(range.location==<span class="built_in">NSNotFound</span>)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"not found."</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"range is %@"</span>,<span class="built_in">NSStringFromRange</span>(range));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//  结果：range is &#123;2, 3&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  分割：以"."为分割点把字符串分割几串，并返回一个数组</span></span><br><span class="line">    <span class="built_in">NSArray</span> *array=[<span class="string">@"12.abcd.3a"</span> componentsSeparatedByString:<span class="string">@"."</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array);</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     (</span><br><span class="line">     12,</span><br><span class="line">     abcd,</span><br><span class="line">     3a</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  拼接：根据给定的参数字符串拼接并产生新的字符串，不改变原有字符串（因为原字符串是不可变字符串）</span></span><br><span class="line">    <span class="built_in">NSString</span> *newString1 = [<span class="string">@"手机号："</span> stringByAppendingString:<span class="string">@"10086"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,newString1);<span class="comment">//  结果：手机号：10086</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  拼接：根据给定的格式串以及参数拼接产生新的字符串</span></span><br><span class="line">    <span class="built_in">NSString</span> *newString2 = [<span class="string">@"小明"</span> stringByAppendingFormat:<span class="string">@"%@%@"</span>,<span class="string">@"住在"</span>,@<span class="number">504</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,newString2);<span class="comment">//  结果：小明住在504</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  拼接：路径拼接</span></span><br><span class="line">    <span class="built_in">NSString</span> *newString3 = [<span class="string">@"E盘"</span> stringByAppendingPathComponent:<span class="string">@"苍井空"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,newString3);<span class="comment">//  结果：E盘/苍井空</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - 其他操作 -</span></span><br><span class="line"><span class="keyword">void</span> test5()&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  类型转换（必须是纯数字的字符串，如果第一个是字母则输出零，如果数字后面有字母则遇到第一个字母停止转换）</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%i"</span>,[<span class="string">@"12"</span> intValue]);<span class="comment">//    结果：12</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  字符串长度注意不是字节数</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%zi"</span>,[<span class="string">@"hello world,世界你好！"</span> length]);<span class="comment">//  结果：17</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  取出指定位置的字符</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%c"</span>,[<span class="string">@"abc"</span> characterAtIndex:<span class="number">0</span>]);<span class="comment">// 结果：a</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  转换为C语言字符串</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *s=[<span class="string">@"abc"</span> UTF8String];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%s"</span>,s);<span class="comment">//   结果：abc</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  字符串的替换：通过给定的第二个字符串替换str8中当前存在的字符串（把"shuaige"替换成了"SB"）</span></span><br><span class="line">    <span class="built_in">NSString</span> *newString = [<span class="string">@"shuaige is me"</span> stringByReplacingOccurrencesOfString:<span class="string">@"shuaige"</span> withString:<span class="string">@"SB"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,newString);<span class="comment">//   结果：SB is me</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    test1();</span><br><span class="line">    test2();</span><br><span class="line">    test3();</span><br><span class="line">    test4();</span><br><span class="line">    test5();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="NSMutableString"><a href="#NSMutableString" class="headerlink" title="NSMutableString"></a>NSMutableString</h3><p>NSMutableString，它是NSString的子类，可变字符串的初始化不能用语法糖：</p>
<p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  字符串的创建1：注意虽然initWithCapacity分配字符串大小，但是不是绝对的不可以超过此范围，声明此变量对性能有好处</span></span><br><span class="line">    <span class="built_in">NSMutableString</span> *str1= [[<span class="built_in">NSMutableString</span> alloc] initWithCapacity:<span class="number">10</span>];</span><br><span class="line">    <span class="comment">//  设置字符串</span></span><br><span class="line">    [str1 setString:<span class="string">@"hello"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str1);<span class="comment">//    结果：hello</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  字符串的创建2</span></span><br><span class="line">    <span class="built_in">NSMutableString</span> *str2 =  [<span class="built_in">NSMutableString</span> string];</span><br><span class="line">    <span class="comment">//  设置字符串</span></span><br><span class="line">    str2.string = <span class="string">@"world"</span>;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str2);<span class="comment">//    结果：world</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  追加字符串</span></span><br><span class="line">    [str1 appendString:str2];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str1);<span class="comment">//    结果：helloworld!</span></span><br><span class="line">    </span><br><span class="line">    [str1 appendFormat:<span class="string">@"我的年龄是%i。dear,I love you."</span>,<span class="number">18</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str1);<span class="comment">//    结果：hello,world!我的年龄是18。dear,I love you.</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  替换字符串：根据给定的字符串替换指定范围的字符们</span></span><br><span class="line">    <span class="built_in">NSRange</span> range=[str1 rangeOfString:<span class="string">@"dear"</span>];</span><br><span class="line">    [str1 replaceCharactersInRange:range withString:<span class="string">@"Honey"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str1);<span class="comment">//    结果：hello,world!我的年龄是18。Honey,I love you.</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  插入字符串</span></span><br><span class="line">    [str1 insertString:<span class="string">@"My name is Kenshin."</span> atIndex:<span class="number">12</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str1);<span class="comment">//    结果：hello,world!My name is Kenshin.我的年龄是18。Honey,I love you.</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  删除字符串</span></span><br><span class="line">    [str1 deleteCharactersInRange:[str1 rangeOfString:<span class="string">@"My name is Kenshin."</span>]];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str1);<span class="comment">//    结果：hello,world!我的年龄是18。Honey,I love you.</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  将不可变字符串转为可变字符串</span></span><br><span class="line">    <span class="built_in">NSMutableString</span> *str3 = [<span class="built_in">NSMutableString</span> stringWithString:str1];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="拓展：文件操作"><a href="#拓展：文件操作" class="headerlink" title="拓展：文件操作"></a>拓展：文件操作</h3><p>在OC中路径、文件读写等操作是利用字符串来完成的，这里通过几个简单的例子来演示（首先在桌面上新建一个test.txt文件，里面存储的内容是”hello world,世界你好！”）：</p>
<p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> test1()&#123;</span><br><span class="line">    <span class="comment">//读取文件内容</span></span><br><span class="line">    <span class="built_in">NSString</span> *path=<span class="string">@"/Users/kenshincui/Desktop/test.txt"</span>;</span><br><span class="line">    <span class="built_in">NSString</span> *str1=[<span class="built_in">NSString</span> stringWithContentsOfFile:path encoding:<span class="built_in">NSUTF8StringEncoding</span> error:<span class="literal">nil</span>];</span><br><span class="line">    <span class="comment">//注意上面也可以使用gb2312 gbk等,例如kCFStringEncodingGB_18030_2000，但是需要用CFStringConvertEncodingToNSStringEncoding转换</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"str1 is %@"</span>,str1);</span><br><span class="line">    <span class="comment">//结果：str1 is hello world,世界你好！</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//上面我们看到了读取文件，但并没有处理错误,当然在ObjC中可以@try @catch @finnally但通常我们并不那么做</span></span><br><span class="line">    <span class="comment">//由于我们的test.txt中有中文，所以使用下面的编码读取会报错，下面的代码演示了错误获取的过程</span></span><br><span class="line">    <span class="built_in">NSError</span> *error;</span><br><span class="line">    <span class="built_in">NSString</span> *str2=[<span class="built_in">NSString</span> stringWithContentsOfFile:path encoding:k<span class="built_in">CFStringEncodingGB_18030_2000</span> error:&amp;error];<span class="comment">//注意这句话中的error变量是**error，就是指针的指针那就是指针的地址，由于error就是一个指针此处也就是error的地址&amp;error，具体原因见下面补充</span></span><br><span class="line">    <span class="keyword">if</span>(error)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"read error ,the error is %@"</span>,error);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"read success,the file content is %@"</span>,str2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//结果：read error ,the error is Error Domain=NSCocoaErrorDomain Code=261 "The file couldn’t be opened using the specified text encoding." UserInfo=0x100109620 &#123;NSFilePath=/Users/kenshincui/Desktop/test.txt, NSStringEncoding=1586&#125;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//读取文件内容还有一种方式就是利用URl，它除了可以读取本地文件还可以读取网络文件</span></span><br><span class="line">    <span class="comment">//NSURL *url=[NSURL URLWithString:@"file:///Users/kenshincui/Desktop/test.txt"];</span></span><br><span class="line">    <span class="built_in">NSURL</span> *url=[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://www.apple.com"</span>];</span><br><span class="line">    <span class="built_in">NSString</span> *str3=[<span class="built_in">NSString</span> stringWithContentsOfURL:url encoding:<span class="built_in">NSUTF8StringEncoding</span> error:<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"str3 is %@"</span>,str3);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> test2()&#123;</span><br><span class="line">    <span class="comment">//下面是文件写入</span></span><br><span class="line">    <span class="built_in">NSString</span> *path1=<span class="string">@"/Users/kenshincui/Desktop/test2.txt"</span>;</span><br><span class="line">    <span class="built_in">NSError</span> *error1;</span><br><span class="line">    <span class="built_in">NSString</span> *str11=<span class="string">@"hello world,世界你好！"</span>;</span><br><span class="line">    [str11 writeToFile:path1 atomically:<span class="literal">YES</span> encoding:<span class="built_in">NSUTF8StringEncoding</span> error:&amp;error1];<span class="comment">//automically代表一次性写入，如果写到中间出错了最后就全部不写入</span></span><br><span class="line">    <span class="keyword">if</span>(error1)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"write fail,the error is %@"</span>,[error1 localizedDescription]);<span class="comment">//调用localizedDescription是只打印关键错误信息</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"write success!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//结果：write success!</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//路径操作</span></span><br><span class="line"><span class="keyword">void</span> test3()&#123;</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *marray=[<span class="built_in">NSMutableArray</span> array];<span class="comment">//可变数组</span></span><br><span class="line">    [marray addObject:<span class="string">@"Users"</span>];</span><br><span class="line">    [marray addObject:<span class="string">@"KenshinCui"</span>];</span><br><span class="line">    [marray addObject:<span class="string">@"Desktop"</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSString</span> *path=[<span class="built_in">NSString</span> pathWithComponents:marray];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,path);<span class="comment">//字符串拼接成路径</span></span><br><span class="line">    <span class="comment">//结果：Users/KenshinCui/Desktop</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[path pathComponents]);<span class="comment">//路径分割成数组</span></span><br><span class="line">    <span class="comment">/*结果： </span><br><span class="line">     (</span><br><span class="line">        Users,</span><br><span class="line">        KenshinCui,</span><br><span class="line">        Desktop</span><br><span class="line">    )</span><br><span class="line">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%i"</span>,[path isAbsolutePath]);<span class="comment">//是否绝对路径（其实就是看字符串是否以“/”开头）</span></span><br><span class="line">    <span class="comment">//结果：0</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[path lastPathComponent]);<span class="comment">//取得最后一个目录</span></span><br><span class="line">    <span class="comment">//结果：Desktop</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[path stringByDeletingLastPathComponent]);<span class="comment">//删除最后一个目录，注意path本身是常量不会被修改,只是返回一个新字符串</span></span><br><span class="line">    <span class="comment">//结果：Users/KenshinCui</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[path stringByAppendingPathComponent:<span class="string">@"Documents"</span>]);<span class="comment">//路径拼接</span></span><br><span class="line">    <span class="comment">//结果：Users/KenshinCui/Desktop/Documents</span></span><br><span class="line">&#125;</span><br><span class="line"> <span class="comment">//扩展名操作</span></span><br><span class="line"><span class="keyword">void</span> test4()&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *path=<span class="string">@"Users/KenshinCui/Desktop/test.txt"</span>;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[path pathExtension]);<span class="comment">//取得扩展名，注意ObjC中扩展名不包括"."</span></span><br><span class="line">    <span class="comment">//结果：txt</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[path stringByDeletingPathExtension]);<span class="comment">//删除扩展名，注意包含"."</span></span><br><span class="line">    <span class="comment">//结果：Users/KenshinCui/Desktop/test</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[<span class="string">@"Users/KenshinCui/Desktop/test"</span> stringByAppendingPathExtension:<span class="string">@"mp3"</span>]);<span class="comment">//添加扩展名</span></span><br><span class="line">    <span class="comment">//结果：Users/KenshinCui/Desktop/test.mp3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    test1();</span><br><span class="line">    test2();</span><br><span class="line">    test3();</span><br><span class="line">    test4();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>数组是有序集合，只能存放对象，数组有下标（index）的概念，靠index来索引元素，下标从0开始。</p>
<h3 id="NSArray"><a href="#NSArray" class="headerlink" title="NSArray"></a>NSArray</h3><p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - 数组基础 -</span></span><br><span class="line"><span class="keyword">void</span> test1()&#123;</span><br><span class="line">    <span class="comment">//  创建不可变数组1：可以写多个，nil表示参数列表结束，是个结束标志，不能省</span></span><br><span class="line">    <span class="built_in">NSArray</span> *array1 = [<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@"1"</span>,@<span class="number">2</span>,<span class="string">@"贺贺"</span>, <span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array1);</span><br><span class="line">    <span class="comment">/*  结果：(</span><br><span class="line">     1,</span><br><span class="line">     2,</span><br><span class="line">     "\U8d3a\U8d3a"</span><br><span class="line">     )*/</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  创建不可变数组2：语法糖</span></span><br><span class="line">    <span class="built_in">NSArray</span> *array2 = @[<span class="string">@"1"</span>,@<span class="number">2</span>,<span class="string">@"^_^"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array2);</span><br><span class="line">    <span class="comment">/*  结果：(</span><br><span class="line">     1,</span><br><span class="line">     2,</span><br><span class="line">     "^_^"</span><br><span class="line">     )*/</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  获取数组元素的个数</span></span><br><span class="line">    <span class="built_in">NSInteger</span> count = [array2 count];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,count);<span class="comment">//  结果：3</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  通过对象去查找他在数组中的下标</span></span><br><span class="line">    <span class="built_in">NSInteger</span> index = [array2 indexOfObject:@<span class="number">2</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,index);<span class="comment">//  结果：1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  通过对象的下标去查找他在数组中的对象</span></span><br><span class="line">    <span class="keyword">id</span> a  = [array1 objectAtIndex:<span class="number">2</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,a);<span class="comment">//   结果：贺贺</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - 数组的遍历 -</span></span><br><span class="line"><span class="keyword">void</span> test2()&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSObject</span> *obj=[[<span class="built_in">NSObject</span> alloc]init];</span><br><span class="line">    <span class="built_in">NSArray</span> *array=[[<span class="built_in">NSArray</span> alloc] initWithObjects:<span class="string">@"abc"</span>,obj,<span class="string">@"cde"</span>,<span class="string">@"opq"</span>,@<span class="number">25</span>, <span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  方法1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>,len = array.count;i&lt;len;++i)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"method1:index %i is %@"</span>,i,[array objectAtIndex:i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     method1:index 0 is abc</span><br><span class="line">     method1:index 1 is &lt;NSObject: 0x100106de0&gt;</span><br><span class="line">     method1:index 2 is cde</span><br><span class="line">     method1:index 3 is opq</span><br><span class="line">     method1:index 4 is 25</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//方法2</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">id</span> obj <span class="keyword">in</span> array)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"method2:index %zi is %@"</span>,[array indexOfObject:obj],obj);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     method2:index 0 is abc</span><br><span class="line">     method2:index 1 is &lt;NSObject: 0x100602f00&gt;</span><br><span class="line">     method2:index 2 is cde</span><br><span class="line">     method2:index 3 is opq</span><br><span class="line">     method2:index 4 is 25</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//方法3,利用代码块方法</span></span><br><span class="line">    [array enumerateObjectsUsingBlock:^(<span class="keyword">id</span> obj, <span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"method3:index %zi is %@"</span>,idx,obj);</span><br><span class="line">        <span class="keyword">if</span>(idx==<span class="number">2</span>)&#123;<span class="comment">//当idx=2时设置*stop为YES停止遍历</span></span><br><span class="line">            *stop=<span class="literal">YES</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     method3:index 0 is abc</span><br><span class="line">     method3:index 1 is &lt;NSObject: 0x100106de0&gt;</span><br><span class="line">     method3:index 2 is cde</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//方法4，利用迭代器</span></span><br><span class="line">    <span class="comment">//NSEnumerator *enumerator= [array objectEnumerator];//获得一个迭代器</span></span><br><span class="line">    <span class="built_in">NSEnumerator</span> *enumerator=[array reverseObjectEnumerator];<span class="comment">//获取一个反向迭代器</span></span><br><span class="line">    <span class="comment">//NSLog(@"all:%@",[enumerator allObjects]);//获取所有迭代对象，注意调用完此方法迭代器就遍历完了，下面的nextObject就没有值了</span></span><br><span class="line">    <span class="keyword">id</span> obj2=<span class="literal">nil</span>;</span><br><span class="line">    <span class="keyword">while</span> (obj2=[enumerator nextObject]) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"method4:%@"</span>,obj2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     method4:25</span><br><span class="line">     method4:opq</span><br><span class="line">     method4:cde</span><br><span class="line">     method4:&lt;NSObject: 0x100106de0&gt;</span><br><span class="line">     method4:abc</span><br><span class="line">     */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - 数组派生出新的数组 -</span></span><br><span class="line"><span class="keyword">void</span> test3()&#123;</span><br><span class="line">    <span class="built_in">NSArray</span> *array=[<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@"1"</span>,<span class="string">@"2"</span>,<span class="string">@"3"</span>, <span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSArray</span> *array2=[array arrayByAddingObject:<span class="string">@"4"</span>];<span class="comment">//注意此时array并没有变</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array2);</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     (</span><br><span class="line">     1,</span><br><span class="line">     2,</span><br><span class="line">     3,</span><br><span class="line">     4</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[array2 arrayByAddingObjectsFromArray:[<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@"5"</span>,<span class="string">@"6"</span>, <span class="literal">nil</span>]]);<span class="comment">//追加形成新的数组</span></span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     (</span><br><span class="line">     1,</span><br><span class="line">     2,</span><br><span class="line">     3,</span><br><span class="line">     4,</span><br><span class="line">     5,</span><br><span class="line">     6</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[array2 subarrayWithRange:<span class="built_in">NSMakeRange</span>(<span class="number">1</span>, <span class="number">3</span>)]);<span class="comment">//根据一定范围取得生成一个新的数组</span></span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     (</span><br><span class="line">     2,</span><br><span class="line">     3,</span><br><span class="line">     4</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[array componentsJoinedByString:<span class="string">@","</span>]);<span class="comment">//数组连接，形成一个字符串</span></span><br><span class="line">    <span class="comment">//结果：1,2,3</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//读写文件</span></span><br><span class="line">    <span class="built_in">NSString</span> *path=<span class="string">@"/Users/KenshinCui/Desktop/array.xml"</span>;</span><br><span class="line">    [array writeToFile:path atomically:<span class="literal">YES</span>];</span><br><span class="line">    <span class="built_in">NSArray</span> *array3=[<span class="built_in">NSArray</span> arrayWithContentsOfFile:path];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array3);</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     (</span><br><span class="line">     1,</span><br><span class="line">     2,</span><br><span class="line">     3</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - 数组排序 -</span></span><br><span class="line"><span class="keyword">void</span> test4()&#123;</span><br><span class="line">    <span class="comment">//方法1：使用自带的比较器</span></span><br><span class="line">    <span class="built_in">NSArray</span> *array=[<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@"3"</span>,<span class="string">@"1"</span>,<span class="string">@"2"</span>, <span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSArray</span> *array2= [array sortedArrayUsingSelector:<span class="keyword">@selector</span>(compare:)];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array2);</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     (</span><br><span class="line">     1,</span><br><span class="line">     2,</span><br><span class="line">     3</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//方法2：使用代码块</span></span><br><span class="line">    <span class="built_in">NSArray</span> *array3 = [array sortedArrayUsingComparator:^<span class="built_in">NSComparisonResult</span>(<span class="keyword">id</span>  _Nonnull obj1, <span class="keyword">id</span>  _Nonnull obj2) &#123;</span><br><span class="line">        <span class="keyword">return</span> [obj2 compare:obj1];<span class="comment">//降序</span></span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array3);</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     (</span><br><span class="line">     "name=Rosa",</span><br><span class="line">     "name=Kenshin",</span><br><span class="line">     "name=Kaoru"</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    test1();</span><br><span class="line">    test2();</span><br><span class="line">    test3();</span><br><span class="line">    test4();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="NSMutableArray"><a href="#NSMutableArray" class="headerlink" title="NSMutableArray"></a>NSMutableArray</h3><p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//  将不可变数组转为可变数组</span></span><br><span class="line">        <span class="built_in">NSArray</span> *array1 = @[@<span class="number">1</span>,@<span class="number">2</span>];</span><br><span class="line">        <span class="built_in">NSMutableArray</span> *mutableArray2 = [<span class="built_in">NSMutableArray</span> arrayWithArray:array1];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,mutableArray2);</span><br><span class="line">    <span class="comment">/*  结果：(</span><br><span class="line">     1,</span><br><span class="line">     2</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">//  添加元素(对象):在最后面添加</span></span><br><span class="line">        [mutableArray2 addObject:@<span class="number">33</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,mutableArray2);</span><br><span class="line">    <span class="comment">/*  结果：(</span><br><span class="line">     1,</span><br><span class="line">     2,</span><br><span class="line">     33</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">//  插入元素(对象)</span></span><br><span class="line">        [mutableArray2 insertObject:<span class="string">@"123"</span> atIndex:<span class="number">1</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,mutableArray2);</span><br><span class="line">    <span class="comment">/*  结果：(</span><br><span class="line">     1,</span><br><span class="line">     123,</span><br><span class="line">     2,</span><br><span class="line">     33</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">//  替换一个已有元素(对象)</span></span><br><span class="line">        [mutableArray2 replaceObjectAtIndex:<span class="number">0</span> withObject:<span class="string">@"heihei"</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,mutableArray2);</span><br><span class="line">    <span class="comment">/*  结果：(</span><br><span class="line">     heihei,</span><br><span class="line">     123,</span><br><span class="line">     2,</span><br><span class="line">     33</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">//  交换两个对应下标的元素(对象)的位置</span></span><br><span class="line">        [mutableArray2 exchangeObjectAtIndex:<span class="number">1</span> withObjectAtIndex:<span class="number">2</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,mutableArray2);</span><br><span class="line">    <span class="comment">/*  结果：(</span><br><span class="line">     heihei,</span><br><span class="line">     2,</span><br><span class="line">     123,</span><br><span class="line">     33</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">//  删除最后一个元素(对象)</span></span><br><span class="line">        [mutableArray2 removeLastObject];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,mutableArray2);</span><br><span class="line">    <span class="comment">/*  结果：(</span><br><span class="line">     heihei,</span><br><span class="line">     2,</span><br><span class="line">     123</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">//  删除指定下标的元素(对象)</span></span><br><span class="line">        [mutableArray2 removeObjectAtIndex:<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,mutableArray2);</span><br><span class="line">    <span class="comment">/*  结果：(</span><br><span class="line">     2,</span><br><span class="line">     123</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">//  删除数组所有元素(对象)</span></span><br><span class="line">        [mutableArray2 removeAllObjects];<span class="comment">//数组元素删完了，不过数组还在</span></span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,mutableArray2);</span><br><span class="line">    <span class="comment">/*  结果：(</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="数组的三种排序"><a href="#数组的三种排序" class="headerlink" title="数组的三种排序"></a>数组的三种排序</h3><h4 id="简单排序"><a href="#简单排序" class="headerlink" title="简单排序"></a>简单排序</h4><p>不可变数组的排序（不可变数组中的只有<code>字符串</code>或<code>数值类对象</code>）：</p>
<p>&lt; 代码示例 &gt;</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> *array = [<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@"abc"</span>,<span class="string">@"456"</span>,<span class="string">@"123"</span>,<span class="string">@"789"</span>,<span class="string">@"ef"</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">//  返回值是不可变数组</span></span><br><span class="line"><span class="built_in">NSArray</span> *sortedArray = [array sortedArrayUsingSelector:<span class="keyword">@selector</span>(compare:)];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"排序后:%@"</span>,sortedArray);</span><br></pre></td></tr></table></figure>
<p>&lt; 输出结果 &gt;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2015-04-29 11:59:01.403 11[1424:96014] 排序后:( 123, 456, 789, abc, ef )</span><br><span class="line">Program ended with exit code: 0</span><br></pre></td></tr></table></figure>
<p>可变数组的排序（可变数组中的所有<code>字符串</code>或<code>数值类对象</code>）：</p>
<p>&lt; 代码示例 &gt;</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableArray</span> *array = [<span class="built_in">NSMutableArray</span> arrayWithObjects:<span class="string">@"abc"</span>,<span class="string">@"456"</span>,<span class="string">@"123"</span>,<span class="string">@"789"</span>,<span class="string">@"ef"</span>, <span class="literal">nil</span>]; </span><br><span class="line">[array sortUsingSelector:<span class="keyword">@selector</span>(compare:)]; </span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"排序后:%@“,array);</span></span><br></pre></td></tr></table></figure>
<p>&lt; 输出结果 &gt;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2015-04-29 11:59:01.403 11[1424:96014] 排序后:( 123, 456, 789, abc, ef )</span><br><span class="line">Program ended with exit code: 0</span><br></pre></td></tr></table></figure>
<p>当然，除了利用字符串自带的compare:方法，也可以自己写compare:方法，进行对象的比较。</p>
<h4 id="利用block"><a href="#利用block" class="headerlink" title="利用block"></a>利用block</h4><p>不可变数组的排序：</p>
<p>&lt; 代码示例 &gt;</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  1.第一种排序（降序）</span></span><br><span class="line"><span class="built_in">NSComparator</span> sortBlock = ^(<span class="keyword">id</span> obj1,<span class="keyword">id</span> obj2)&#123;</span><br><span class="line">    <span class="keyword">return</span> [obj2 compare: obj1];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//  在这一行调用了sortBlock比较器,在此之前，sortBlock比较器只是被编译了。</span></span><br><span class="line"><span class="built_in">NSArray</span> *resultArray1 = [array sortedArrayUsingComparator:sortBlock];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,resultArray1);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  2.第二种排序（升序）</span></span><br><span class="line"><span class="built_in">NSArray</span> *resultArray2 = [array sortedArrayUsingComparator:^<span class="built_in">NSComparisonResult</span>(<span class="keyword">id</span> obj1, <span class="keyword">id</span> obj2) &#123;</span><br><span class="line">    <span class="keyword">return</span> [obj1 compare:obj2];</span><br><span class="line">&#125;];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,resultArray2);</span><br></pre></td></tr></table></figure>
<p>&lt; 输出结果 &gt;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">2016-01-01 13:33:30.626 OC10[30490:316048] (</span><br><span class="line">    16,</span><br><span class="line">    12,</span><br><span class="line">    10,</span><br><span class="line">    8,</span><br><span class="line">    1</span><br><span class="line">)</span><br><span class="line">2016-01-01 13:33:30.629 OC10[30490:316048] (</span><br><span class="line">    1,</span><br><span class="line">    8,</span><br><span class="line">    10,</span><br><span class="line">    12,</span><br><span class="line">    16</span><br><span class="line">)</span><br><span class="line">Program ended with exit code: 0</span><br></pre></td></tr></table></figure>
<p>可变数组的排序：</p>
<p>&lt; 代码示例 &gt;</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableArray</span> *array = [<span class="built_in">NSMutableArray</span> arrayWithObjects:@<span class="number">1</span>,@<span class="number">16</span>,@<span class="number">8</span>,@<span class="number">10</span>,@<span class="number">12</span>,<span class="literal">nil</span>];</span><br><span class="line">    <span class="comment">//  1.第一种排序（降序）</span></span><br><span class="line">    <span class="built_in">NSComparator</span> sortBlock = ^(<span class="keyword">id</span> obj1,<span class="keyword">id</span> obj2)&#123;</span><br><span class="line">        <span class="keyword">return</span> [obj2 compare: obj1];</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//  在这一行调用了sortBlock比较器,在此之前，sortBlock比较器只是被编译了。</span></span><br><span class="line">    [array sortUsingComparator:sortBlock];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  2.第二种排序（升序）</span></span><br><span class="line">    [array sortUsingComparator:^<span class="built_in">NSComparisonResult</span>(<span class="keyword">id</span>  _Nonnull obj1, <span class="keyword">id</span>  _Nonnull obj2) &#123;</span><br><span class="line">        <span class="keyword">return</span> [obj1 compare:obj2];</span><br><span class="line">    &#125;];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array);</span><br></pre></td></tr></table></figure>
<p>&lt; 输出结果 &gt;</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2016</span><span class="number">-01</span><span class="number">-01</span> <span class="number">13</span>:<span class="number">41</span>:<span class="number">15.184</span> OC10[<span class="number">30942</span>:<span class="number">320847</span>] (</span><br><span class="line">    <span class="number">16</span>,</span><br><span class="line">    <span class="number">12</span>,</span><br><span class="line">    <span class="number">10</span>,</span><br><span class="line">    <span class="number">8</span>,</span><br><span class="line">    <span class="number">1</span></span><br><span class="line">)</span><br><span class="line"><span class="number">2016</span><span class="number">-01</span><span class="number">-01</span> <span class="number">13</span>:<span class="number">41</span>:<span class="number">15.185</span> OC10[<span class="number">30942</span>:<span class="number">320847</span>] (</span><br><span class="line">    <span class="number">1</span>,</span><br><span class="line">    <span class="number">8</span>,</span><br><span class="line">    <span class="number">10</span>,</span><br><span class="line">    <span class="number">12</span>,</span><br><span class="line">    <span class="number">16</span></span><br><span class="line">)</span><br><span class="line">Program ended with exit code: <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h4 id="高级排序"><a href="#高级排序" class="headerlink" title="高级排序"></a>高级排序</h4><p>如果是这样一种情况呢？Person类里有另外一个类的变量，比如说Person类除了name，age变量，还有一辆车Car类型，Car类里有个name属性。对Person对象进行排序，有这样的要求：按照Car的name排序，如果是同一辆车，也就是Car的name相同，那么再按照年龄进行排序，如果年龄也相同，最后按照Person的name进行排序。</p>
<p>不可变数组的排序：</p>
<p>&lt; 代码示例 &gt;</p>
<p><em>Person.h</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Person</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) Car *car;</span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">assign</span>) <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">+ (Person *)personWithAge:(<span class="keyword">int</span>)age</span><br><span class="line">                     Name:(<span class="built_in">NSString</span> *)name</span><br><span class="line">                      Car:(Car *)car;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Person.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Person.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Person</span></span></span><br><span class="line"></span><br><span class="line">+ (Person *)personWithAge:(<span class="keyword">int</span>)age Name:(<span class="built_in">NSString</span> *)name Car:(Car *)car&#123;</span><br><span class="line">    Person *person =[[Person alloc] init];</span><br><span class="line">    person.age = age;</span><br><span class="line">    person.car = car;</span><br><span class="line">    person.name = name;</span><br><span class="line">    <span class="keyword">return</span> person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)description&#123;</span><br><span class="line">     <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"age is %zi , name is %@, car is %@"</span>,_age,_name,_car.name];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Car.h</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"></span><br><span class="line">+(Car *)carWithName:(<span class="built_in">NSString</span> *)name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Car.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line"></span><br><span class="line">+ (Car *)carWithName:(<span class="built_in">NSString</span> *)name&#123;</span><br><span class="line">    Car *car = [[Car alloc] init];</span><br><span class="line">    car.name = name;</span><br><span class="line">    <span class="keyword">return</span> car;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Person.h"</span></span></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  首先来3辆车，分别是奥迪、劳斯莱斯、宝马</span></span><br><span class="line">    Car *car1 = [Car carWithName:<span class="string">@"Audio"</span>];</span><br><span class="line">    Car *car2 = [Car carWithName:<span class="string">@"Rolls-Royce"</span>];</span><br><span class="line">    Car *car3 = [Car carWithName:<span class="string">@"BMW"</span>];</span><br><span class="line">    <span class="comment">//  再来5个Person，每人送辆车，分别为car2、car1、car1、car3、car2</span></span><br><span class="line">    Person *p1 = [Person personWithAge:<span class="number">21</span> Name:<span class="string">@"A"</span> Car:car2];</span><br><span class="line">    Person *p2 = [Person personWithAge:<span class="number">23</span> Name:<span class="string">@"B"</span> Car:car1];</span><br><span class="line">    Person *p3 = [Person personWithAge:<span class="number">24</span> Name:<span class="string">@"D"</span> Car:car1];</span><br><span class="line">    Person *p4 = [Person personWithAge:<span class="number">23</span> Name:<span class="string">@"C"</span> Car:car3];</span><br><span class="line">    Person *p5 = [Person personWithAge:<span class="number">23</span> Name:<span class="string">@"E"</span> Car:car1];</span><br><span class="line">    <span class="built_in">NSArray</span> *array = [<span class="built_in">NSArray</span> arrayWithObjects:p1,p2,p3,p4,p5, <span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  构建排序描述器（ascending:YES 升序，ascending:NO 降序）</span></span><br><span class="line">    <span class="built_in">NSSortDescriptor</span> *carNameDesc = [<span class="built_in">NSSortDescriptor</span> sortDescriptorWithKey:<span class="string">@"car.name"</span> ascending:<span class="literal">YES</span>];</span><br><span class="line">    <span class="built_in">NSSortDescriptor</span> *personNameDesc = [<span class="built_in">NSSortDescriptor</span> sortDescriptorWithKey:<span class="string">@"name"</span> ascending:<span class="literal">YES</span>];</span><br><span class="line">    <span class="built_in">NSSortDescriptor</span> *personAgaDesc = [<span class="built_in">NSSortDescriptor</span> sortDescriptorWithKey:<span class="string">@"age"</span> ascending:<span class="literal">YES</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  把排序描述器放进数组里，放入的顺序就是你想要排序的顺序，我这里是：首先按年龄排序，然后是车的名字，最后按照人的名字</span></span><br><span class="line">    <span class="built_in">NSArray</span> *descriporArray = @[personAgaDesc,carNameDesc,personNameDesc];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSArray</span> *sortedArray = [array sortedArrayUsingDescriptors:descriporArray];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,sortedArray);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&lt; 输出结果 &gt;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">2016-01-01 14:19:46.555 OC10[33035:344658] (</span><br><span class="line">    &quot;age is 21 , name is A, car is Rolls-Royce&quot;,</span><br><span class="line">    &quot;age is 23 , name is B, car is Audio&quot;,</span><br><span class="line">    &quot;age is 23 , name is E, car is Audio&quot;,</span><br><span class="line">    &quot;age is 23 , name is C, car is BMW&quot;,</span><br><span class="line">    &quot;age is 24 , name is D, car is Audio&quot;</span><br><span class="line">)</span><br><span class="line">Program ended with exit code: 0</span><br></pre></td></tr></table></figure>
<p>可变数组的排序：</p>
<p>&lt; 代码示例 &gt;</p>
<p><em>Person.h</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Person</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) Car *car;</span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">assign</span>) <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">+ (Person *)personWithAge:(<span class="keyword">int</span>)age</span><br><span class="line">                     Name:(<span class="built_in">NSString</span> *)name</span><br><span class="line">                      Car:(Car *)car;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Person.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Person.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Person</span></span></span><br><span class="line"></span><br><span class="line">+ (Person *)personWithAge:(<span class="keyword">int</span>)age Name:(<span class="built_in">NSString</span> *)name Car:(Car *)car&#123;</span><br><span class="line">    Person *person =[[Person alloc] init];</span><br><span class="line">    person.age = age;</span><br><span class="line">    person.car = car;</span><br><span class="line">    person.name = name;</span><br><span class="line">    <span class="keyword">return</span> person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)description&#123;</span><br><span class="line">     <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"age is %zi , name is %@, car is %@"</span>,_age,_name,_car.name];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Car.h</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"></span><br><span class="line">+(Car *)carWithName:(<span class="built_in">NSString</span> *)name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Car.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line"></span><br><span class="line">+ (Car *)carWithName:(<span class="built_in">NSString</span> *)name&#123;</span><br><span class="line">    Car *car = [[Car alloc] init];</span><br><span class="line">    car.name = name;</span><br><span class="line">    <span class="keyword">return</span> car;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Person.h"</span></span></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  首先来3辆车，分别是奥迪、劳斯莱斯、宝马</span></span><br><span class="line">    Car *car1 = [Car carWithName:<span class="string">@"Audio"</span>];</span><br><span class="line">    Car *car2 = [Car carWithName:<span class="string">@"Rolls-Royce"</span>];</span><br><span class="line">    Car *car3 = [Car carWithName:<span class="string">@"BMW"</span>];</span><br><span class="line">    <span class="comment">//  再来5个Person，每人送辆车，分别为car2、car1、car1、car3、car2</span></span><br><span class="line">    Person *p1 = [Person personWithAge:<span class="number">21</span> Name:<span class="string">@"A"</span> Car:car2];</span><br><span class="line">    Person *p2 = [Person personWithAge:<span class="number">23</span> Name:<span class="string">@"B"</span> Car:car1];</span><br><span class="line">    Person *p3 = [Person personWithAge:<span class="number">24</span> Name:<span class="string">@"D"</span> Car:car1];</span><br><span class="line">    Person *p4 = [Person personWithAge:<span class="number">23</span> Name:<span class="string">@"C"</span> Car:car3];</span><br><span class="line">    Person *p5 = [Person personWithAge:<span class="number">23</span> Name:<span class="string">@"E"</span> Car:car1];</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *array = [<span class="built_in">NSMutableArray</span> arrayWithObjects:p1,p2,p3,p4,p5, <span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  构建排序描述器（ascending:YES 升序，ascending:NO 降序）</span></span><br><span class="line">    <span class="built_in">NSSortDescriptor</span> *carNameDesc = [<span class="built_in">NSSortDescriptor</span> sortDescriptorWithKey:<span class="string">@"car.name"</span> ascending:<span class="literal">YES</span>];</span><br><span class="line">    <span class="built_in">NSSortDescriptor</span> *personNameDesc = [<span class="built_in">NSSortDescriptor</span> sortDescriptorWithKey:<span class="string">@"name"</span> ascending:<span class="literal">YES</span>];</span><br><span class="line">    <span class="built_in">NSSortDescriptor</span> *personAgaDesc = [<span class="built_in">NSSortDescriptor</span> sortDescriptorWithKey:<span class="string">@"age"</span> ascending:<span class="literal">YES</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  把排序描述器放进数组里，放入的顺序就是你想要排序的顺序，我这里是：首先按年龄排序，然后是车的名字，最后按照人的名字</span></span><br><span class="line">    <span class="built_in">NSArray</span> *descriporArray = @[personAgaDesc,carNameDesc,personNameDesc];</span><br><span class="line">    </span><br><span class="line">    [array sortUsingDescriptors:descriporArray];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2016</span><span class="number">-01</span><span class="number">-01</span> <span class="number">14</span>:<span class="number">33</span>:<span class="number">28.783</span> OC10[<span class="number">33800</span>:<span class="number">354490</span>] (</span><br><span class="line">    <span class="string">"age is 21 , name is A, car is Rolls-Royce"</span>,</span><br><span class="line">    <span class="string">"age is 23 , name is B, car is Audio"</span>,</span><br><span class="line">    <span class="string">"age is 23 , name is E, car is Audio"</span>,</span><br><span class="line">    <span class="string">"age is 23 , name is C, car is BMW"</span>,</span><br><span class="line">    <span class="string">"age is 24 , name is D, car is Audio"</span></span><br><span class="line">)</span><br><span class="line">Program ended with exit code: <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><p>字典用于保存具有映射关系（key-value）数据的集合，key不能重复，value必须是对象，键值对在字典中是无序存储的。</p>
<h3 id="NSDictionary"><a href="#NSDictionary" class="headerlink" title="NSDictionary"></a>NSDictionary</h3><p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  创建字典1：在创建字典对象时赋值键值对，但是顺序为：值，键（值在前键在后）</span></span><br><span class="line">    <span class="built_in">NSDictionary</span> *dic1 = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:<span class="string">@"duke2"</span>,<span class="string">@"name"</span>,<span class="string">@"age"</span>,@<span class="number">33</span>,<span class="string">@"男"</span>,<span class="string">@"gender"</span> ,<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,dic1);</span><br><span class="line">    <span class="comment">/*  结果：&#123;</span><br><span class="line">     name = duke2;</span><br><span class="line">     33 = age;</span><br><span class="line">     gender = "\U7537";</span><br><span class="line">     &#125;</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  创建字典2：语法糖（键值对之间用","隔开，键和值之间用":"隔开。）</span></span><br><span class="line">    <span class="built_in">NSDictionary</span> *dic2 = @&#123;<span class="string">@"name"</span>:<span class="string">@"duke"</span>,<span class="string">@"age"</span>:@<span class="number">33</span>,<span class="string">@"gender"</span>:<span class="string">@"male"</span>&#125;;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,dic2);</span><br><span class="line">    <span class="comment">/*  结果：&#123;</span><br><span class="line">     age = 33;</span><br><span class="line">     gender = male;</span><br><span class="line">     name = duke;</span><br><span class="line">     &#125;</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  利用NSArray创建字典:创建字典对象时，两个数组元素的个数必须一致</span></span><br><span class="line">    <span class="built_in">NSArray</span> *keys =@[<span class="string">@"name"</span>,<span class="string">@"age"</span>,<span class="string">@"gender"</span>];</span><br><span class="line">    <span class="built_in">NSArray</span> *values =@[<span class="string">@"duke3"</span>,@<span class="number">33</span>,<span class="string">@"男"</span>];</span><br><span class="line">    <span class="built_in">NSDictionary</span> *dic3 = [<span class="built_in">NSDictionary</span> dictionaryWithObjects:values forKeys:keys];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,dic3);</span><br><span class="line">    <span class="comment">/*  结果：&#123;</span><br><span class="line">     age = 33;</span><br><span class="line">     gender = "\U7537";</span><br><span class="line">     name = duke3;</span><br><span class="line">     &#125;</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  通过count方法获得字典中键值对的个数</span></span><br><span class="line">    <span class="built_in">NSInteger</span> count = [dic3 count];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,count);<span class="comment">//  结果：3</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  获取字典中所有的键</span></span><br><span class="line">    <span class="built_in">NSArray</span> *allKeys = [dic3 allKeys];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,allKeys);</span><br><span class="line">    <span class="comment">/*  结果：&#123;</span><br><span class="line">     name,</span><br><span class="line">     age,</span><br><span class="line">     gender</span><br><span class="line">     &#125;</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  获取字典中所有的值</span></span><br><span class="line">    <span class="built_in">NSArray</span> *allValue = [dic3 allValues];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,allValue);</span><br><span class="line">    <span class="comment">/*  结果：&#123;</span><br><span class="line">     duke3,</span><br><span class="line">     33,</span><br><span class="line">     "\U7537"</span><br><span class="line">     &#125;</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  根据指定的键获取其在字典中对应的值</span></span><br><span class="line">    <span class="keyword">id</span> object1 = [dic3 objectForKey:<span class="string">@"age"</span>];</span><br><span class="line">    <span class="keyword">id</span> object2 = dic3[<span class="string">@"gender"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@,%@"</span>,object1,object2);<span class="comment">//  结果：33,男</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSDictionary</span> *dic4=[<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:</span><br><span class="line">                        <span class="string">@"1"</span>,<span class="string">@"a"</span>,</span><br><span class="line">                        <span class="string">@"2"</span>,<span class="string">@"b"</span>,</span><br><span class="line">                        <span class="string">@"3"</span>,<span class="string">@"c"</span>,</span><br><span class="line">                        <span class="string">@"2"</span>,<span class="string">@"d"</span>,</span><br><span class="line">                        <span class="literal">nil</span>];</span><br><span class="line">    <span class="comment">//  遍历1：注意对于字典for遍历循环的是key</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">id</span> key <span class="keyword">in</span> dic4) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@=%@"</span>,key,[dic4 objectForKey:key]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     d=2</span><br><span class="line">     b=2</span><br><span class="line">     c=3</span><br><span class="line">     a=1</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  遍历2</span></span><br><span class="line">    <span class="built_in">NSEnumerator</span> *enumerator=[dic4 keyEnumerator];<span class="comment">//还有值的迭代器[dic4 objectEnumerator]</span></span><br><span class="line">    <span class="keyword">id</span> key=<span class="literal">nil</span>;</span><br><span class="line">    <span class="keyword">while</span> (key=[enumerator nextObject]) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@=%@"</span>,key,[dic4 objectForKey:key]);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     d=2</span><br><span class="line">     b=2</span><br><span class="line">     c=3</span><br><span class="line">     a=1</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//遍历3</span></span><br><span class="line">    [dic4 enumerateKeysAndObjectsUsingBlock:^(<span class="keyword">id</span> key, <span class="keyword">id</span> obj, <span class="built_in">BOOL</span> *stop) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@=%@"</span>,key,obj);</span><br><span class="line">    &#125;];</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     d=2</span><br><span class="line">     b=2</span><br><span class="line">     c=3</span><br><span class="line">     a=1</span><br><span class="line">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="NSMutableDictionary"><a href="#NSMutableDictionary" class="headerlink" title="NSMutableDictionary"></a>NSMutableDictionary</h3><p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  将不可变字典转为可变字典</span></span><br><span class="line">        <span class="built_in">NSMutableDictionary</span> *dic1 = [<span class="built_in">NSMutableDictionary</span> dictionaryWithDictionary:dic];</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  创建空的字典</span></span><br><span class="line">        <span class="built_in">NSMutableDictionary</span> *dic2 = [<span class="built_in">NSMutableDictionary</span> dictionary];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  增加键值对</span></span><br><span class="line">        [dic2 setObject:<span class="string">@"duke"</span> forKey:<span class="string">@"name"</span>];</span><br><span class="line">        [dic2 setObject:<span class="string">@"male"</span> forKey:<span class="string">@"gender"</span>];</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  修改已有键对应的值</span></span><br><span class="line">        <span class="comment">//  如果键不存在，则是添加键值对，如果键存在，则为修改已有键对应的值（把dic9的@"duke" @"name"键值对覆盖了）</span></span><br><span class="line">        [dic9 setObject:<span class="string">@"dake"</span> forKey:<span class="string">@"name"</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  根据指定键去删除对应的键值对</span></span><br><span class="line">        [dic9 removeObjectForKey:<span class="string">@"gender"</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  删除所有键值对:删除的是内容，字典容器还留着。</span></span><br><span class="line">        [dic9 removeAllObjects];</span><br></pre></td></tr></table></figure>
<h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><p>集合中的对象唯一，存储的对象无序。</p>
<h3 id="NSSet"><a href="#NSSet" class="headerlink" title="NSSet"></a>NSSet</h3><p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  NSSet对象的创建</span></span><br><span class="line">        <span class="built_in">NSSet</span> *set1 = [<span class="built_in">NSSet</span> setWithObjects:<span class="string">@"1"</span>,<span class="string">@"2"</span>,<span class="string">@"3"</span>, <span class="literal">nil</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,set1);</span><br><span class="line">        <span class="comment">/*结果：&#123;(</span><br><span class="line">         1,</span><br><span class="line">         2,</span><br><span class="line">         3</span><br><span class="line">         )&#125;*/</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  用数组对象来创建集合:可以将重复的元素过滤掉</span></span><br><span class="line">        <span class="built_in">NSArray</span> *array = @[@<span class="number">1</span>,@<span class="number">1</span>,@<span class="number">2</span>,@<span class="number">2</span>,@<span class="number">3</span>,@<span class="number">3</span>];</span><br><span class="line">        <span class="built_in">NSSet</span> *set2 = [<span class="built_in">NSSet</span> setWithArray:array];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,set2);</span><br><span class="line">        <span class="comment">/*结果：&#123;(</span><br><span class="line">         3,</span><br><span class="line">         2,</span><br><span class="line">         1</span><br><span class="line">         )&#125;*/</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  获取集合中对象的个数</span></span><br><span class="line">        <span class="built_in">NSInteger</span> count = [set2 count];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,count);<span class="comment">//  结果：3</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  获取集合中的对象</span></span><br><span class="line">        <span class="keyword">id</span> object = [set2 anyObject];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,object);<span class="comment">//  结果：3</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  判断一个对象是否包含在指定的集合中</span></span><br><span class="line">        <span class="built_in">BOOL</span> result = [set2 containsObject:@<span class="number">3</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@,is contained in set %@"</span>,<span class="string">@"3"</span>,result ?  <span class="string">@"YES"</span> : <span class="string">@"NO"</span>);<span class="comment">//  结果：3,is contained in set YES</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="NSMutableSet"><a href="#NSMutableSet" class="headerlink" title="NSMutableSet"></a>NSMutableSet</h3><p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  NSMutableSet对象的创建</span></span><br><span class="line">        <span class="built_in">NSMutableSet</span> *mutableSet1 = [<span class="built_in">NSMutableSet</span> set];</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  将不可变集合转位可变集合</span></span><br><span class="line"><span class="comment">//        NSMutableSet *mutableSet2 = [NSMutableSet setWithSet:set1];</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  添加集合元素</span></span><br><span class="line">        [mutableSet1 addObject:<span class="string">@"5"</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,mutableSet1);</span><br><span class="line">        <span class="comment">/*结果：&#123;(</span><br><span class="line">         5</span><br><span class="line">         )&#125;*/</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  移除单个集合元素</span></span><br><span class="line">        [mutableSet1 removeObject:<span class="string">@"3"</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,mutableSet1);</span><br><span class="line">        <span class="comment">/*结果：&#123;(</span><br><span class="line">         5</span><br><span class="line">         )&#125;*/</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  移除所有元素</span></span><br><span class="line">        [mutableSet1 removeAllObjects];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,mutableSet1);</span><br><span class="line">        <span class="comment">/*结果：&#123;(</span><br><span class="line">         )&#125;*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="NSCountedSet"><a href="#NSCountedSet" class="headerlink" title="NSCountedSet"></a>NSCountedSet</h3><p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//NSCountedSet是NSSet的子类，基本用不到</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  记录添加进去的对象重复了多少次</span></span><br><span class="line">        <span class="built_in">NSCountedSet</span> *countedSet = [<span class="built_in">NSCountedSet</span> set];</span><br><span class="line">        [countedSet addObject:@<span class="number">1</span>];</span><br><span class="line">        [countedSet addObject:@<span class="number">2</span>];</span><br><span class="line">        [countedSet addObject:@<span class="number">1</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,countedSet);<span class="comment">//  结果：&lt;NSCountedSet: 0x100206020&gt; (1 [2], 2 [1])</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  单独获取某个对象在集合中出现了多少次</span></span><br><span class="line">        <span class="built_in">NSInteger</span> countOfObjc = [countedSet countForObject:@<span class="number">1</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,countOfObjc);<span class="comment">//    结果：2</span></span><br></pre></td></tr></table></figure>
<h2 id="装箱和拆箱"><a href="#装箱和拆箱" class="headerlink" title="装箱和拆箱"></a>装箱和拆箱</h2><p>其实从上面的例子中我们也可以看到，数组和字典中只能存储对象类型，其他基本类型和结构体是没有办法放到数组和字典中的，当然你也是无法给它们发送消息的（也就是说有些NSObject的方法是无法调用的），这个时候通常会用到装箱（boxing）和拆箱（unboxing）。其实各种高级语言基本上都有装箱和拆箱的过程，例如C#中我们将基本数据类型转化为Object就是一个装箱的过程，将这个Object对象转换为基本数据类型的过程就是拆箱，而且在C#中装箱的过程可以自动完成，基本数据类型可以直接赋值给Object对象。但是在OC中装箱的过程必须手动实现，OC不支持自动装箱。</p>
<h3 id="NSNumber：用于基本数据类型"><a href="#NSNumber：用于基本数据类型" class="headerlink" title="NSNumber：用于基本数据类型"></a>NSNumber：用于基本数据类型</h3><p>NSNumber也是NSObject的子类，但是NSNumber不能对结构体装箱。</p>
<p>在OC中我们一般将基本数据类型装箱成NSNumber类型：</p>
<p>&lt; 代码示例 &gt;</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">　　　　+(<span class="built_in">NSNumber</span> *)numberWithChar:(<span class="keyword">char</span>)value;</span><br><span class="line"></span><br><span class="line">　　　　+(<span class="built_in">NSNumber</span> *)numberWithInt:(<span class="keyword">int</span>)value;</span><br><span class="line"></span><br><span class="line">　　　　+(<span class="built_in">NSNumber</span> *)numberWithFloat:(<span class="keyword">float</span>)value;</span><br><span class="line"></span><br><span class="line">　　　　+(<span class="built_in">NSNumber</span> *)numberWithDouble:(<span class="keyword">double</span>)value;</span><br><span class="line"></span><br><span class="line">　　　　+(<span class="built_in">NSNumber</span> *)numberWithBool:(<span class="built_in">BOOL</span>)value;</span><br><span class="line"></span><br><span class="line">　　　　+(<span class="built_in">NSNumber</span> *)numberWithInteger:(<span class="built_in">NSInteger</span>)value;</span><br></pre></td></tr></table></figure>
<p>拆箱的过程就更加简单了，可以调用如下方法：</p>
<p>&lt; 代码示例 &gt;</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">　　　　-(<span class="keyword">char</span>)charValue;</span><br><span class="line"></span><br><span class="line">　　　　-(<span class="keyword">int</span>)intValue;</span><br><span class="line"></span><br><span class="line">　　　　-(<span class="keyword">float</span>)floatValue;</span><br><span class="line"></span><br><span class="line">　　　　-(<span class="keyword">double</span>)doubleValue;</span><br><span class="line"></span><br><span class="line">　　　　-(<span class="built_in">BOOL</span>)boolValue;</span><br></pre></td></tr></table></figure>
<p>NSNumber装箱和拆箱的简单实用：</p>
<p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*可以存放基本类型到数组、字典*/</span></span><br><span class="line"><span class="keyword">void</span> test1()&#123;</span><br><span class="line">    <span class="comment">//包装类NSNumber，可以包装基本类型但是无法包装结构体类型</span></span><br><span class="line">    <span class="built_in">NSNumber</span> *number1=[<span class="built_in">NSNumber</span> numberWithChar:<span class="string">'a'</span>];<span class="comment">//'a'是一个C语言的char类型我们无法放倒NSArray中，但是我们可以通过NSNumber包装</span></span><br><span class="line">    <span class="built_in">NSArray</span> *array1=[<span class="built_in">NSArray</span> arrayWithObject:number1];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array1);</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     (</span><br><span class="line">        97</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSNumber</span> *number2= [array1 lastObject];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,number2);<span class="comment">//返回的不是基本类型,结果：97</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">char</span> char1=[number2 charValue];<span class="comment">//number转化为char</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%c"</span>,char1); <span class="comment">//结果：a</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    test1();</span><br><span class="line">    <span class="keyword">return</span>  <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="NSValue：用于任何数据类型"><a href="#NSValue：用于任何数据类型" class="headerlink" title="NSValue：用于任何数据类型"></a>NSValue：用于任何数据类型</h3><p>上面我们看到了基本数据类型的装箱和拆箱过程，那么结构体呢？这个时候我们需要引入另外一个类型NSValue，其实上面的NSNumber就是NSValue的子类，它包装了一些基本数据类型的常用装箱、拆箱方法，当要对结构体进行装箱、拆箱操作我们需要使用NSValue，NSValue可以对任何数据类型进行装箱、拆箱操作。</p>
<h4 id="Foundation结构体"><a href="#Foundation结构体" class="headerlink" title="Foundation结构体"></a>Foundation结构体</h4><p>对应的装箱方法：</p>
<p>&lt; 代码示例 &gt;</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="built_in">NSValue</span> *)valueWithPoint:(<span class="built_in">NSPoint</span>)point;</span><br><span class="line"></span><br><span class="line">+(<span class="built_in">NSValue</span> *)valueWithSize:(<span class="built_in">NSSize</span>)size;</span><br><span class="line"></span><br><span class="line">+(<span class="built_in">NSValue</span> *)valueWithRect:(<span class="built_in">NSRect</span>)rect;</span><br></pre></td></tr></table></figure>
<p>对应的拆箱方法：</p>
<p>&lt; 代码示例 &gt;</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="built_in">NSPoint</span>)pointValue;</span><br><span class="line"></span><br><span class="line">-(<span class="built_in">NSSize</span>)sizeValue;</span><br><span class="line"></span><br><span class="line">-(<span class="built_in">NSRect</span>)rectValue;</span><br></pre></td></tr></table></figure>
<p>Foundation结构体装箱拆箱代码示例：</p>
<p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//NSNumber是NSValue的子类，而NSValue可以包装任何类型，包括结构体</span></span><br><span class="line"><span class="keyword">void</span> test1()&#123;</span><br><span class="line">    <span class="built_in">CGPoint</span> point1=<span class="built_in">CGPointMake</span>(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">    <span class="built_in">NSValue</span> *value1=[<span class="built_in">NSValue</span> valueWithPoint:point1];<span class="comment">//对于系统自带类型一般都有直接的方法进行包装</span></span><br><span class="line">    <span class="built_in">NSArray</span> *array1=[<span class="built_in">NSArray</span> arrayWithObject:value1];<span class="comment">//放倒数组中</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array1);</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     (</span><br><span class="line">        "NSPoint: &#123;10, 20&#125;"</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSValue</span> *value2=[array1 lastObject];</span><br><span class="line">    <span class="built_in">CGPoint</span> point2=[value2 pointValue];<span class="comment">//同样对于系统自带的结构体有对应的取值方法（例如本例pointValue）</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"x=%f,y=%f"</span>,point2.x,point2.y);<span class="comment">//结果：x=10.000000,y=20.000000</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    test1();</span><br><span class="line">    <span class="keyword">return</span>  <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="自定义的结构体"><a href="#自定义的结构体" class="headerlink" title="自定义的结构体"></a>自定义的结构体</h4><p>对应的装箱方法：</p>
<p>&lt; 代码示例 &gt;</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="built_in">NSValue</span> *)valueWithBytes:(<span class="keyword">const</span> <span class="keyword">void</span> *)value objCType:(<span class="keyword">const</span> <span class="keyword">char</span> *)type;</span><br></pre></td></tr></table></figure>
<p>对应的拆箱方法：</p>
<p>&lt; 代码示例 &gt;</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)getValue:(<span class="keyword">void</span> *)value;</span><br></pre></td></tr></table></figure>
<p>自定义的结构体装箱拆箱代码示例：</p>
<p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">    <span class="keyword">int</span> year;</span><br><span class="line">    <span class="keyword">int</span> month;</span><br><span class="line">    <span class="keyword">int</span> day;</span><br><span class="line">&#125; Date;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//NSNumber是NSValue的子类，而NSValue可以包装任何类型，包括结构体</span></span><br><span class="line"><span class="keyword">void</span> test1()&#123;</span><br><span class="line">    <span class="comment">//如果我们自己定义的结构体包装</span></span><br><span class="line">    Date date=&#123;<span class="number">2014</span>,<span class="number">2</span>,<span class="number">28</span>&#125;;</span><br><span class="line">    <span class="keyword">char</span> *type=@encode(Date);</span><br><span class="line">    <span class="built_in">NSValue</span> *value3=[<span class="built_in">NSValue</span> value:&amp;date withObjCType:type];<span class="comment">//第一参数传递结构体地址，第二个参数传递类型字符串</span></span><br><span class="line">    <span class="built_in">NSArray</span> *array2=[<span class="built_in">NSArray</span> arrayWithObject:value3];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array2);</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     (</span><br><span class="line">        "&lt;de070000 02000000 1c000000&gt;"</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    Date date2;</span><br><span class="line">    [value3 getValue:&amp;date2];<span class="comment">//取出对应的结构体，注意没有返回值</span></span><br><span class="line">    <span class="comment">//[value3 objCType]//取出包装内容的类型</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%i,%i,%i"</span>,date2.year,date2.month,date2.day); <span class="comment">//结果：2014,2,28</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    test1();</span><br><span class="line">    <span class="keyword">return</span>  <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="拓展1-NSNull"><a href="#拓展1-NSNull" class="headerlink" title="拓展1-NSNull"></a>拓展1-NSNull</h3><p>通过前面的介绍大家都知道无论在数组还是在字典中都必须以nil结尾，否则数组或字典无法判断是否这个数组或字典已经结束（与C语言中的字符串比较类似，C语言中定义字符串后面必须加一个”\0”）。但是我们有时候确实想在数据或字典中存储nil值而不是作为结束标记怎么办呢？这个时候需要使用NSNull，这个类是一个单例，只有一个null方法。简单看一下：</p>
<p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSNull</span> *nl=[<span class="built_in">NSNull</span> null];<span class="comment">//注意这是一个对象，是一个单例，只有一个方法null创建一个对象</span></span><br><span class="line">    <span class="built_in">NSNull</span> *nl2=[<span class="built_in">NSNull</span> null];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%i"</span>,nl==nl2);<span class="comment">//由于是单例所以地址相等,结果：1</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSArray</span> *array1=[<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@"abc"</span>,nl,@<span class="number">123</span>, <span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array1);</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     (</span><br><span class="line">         abc,</span><br><span class="line">         "&lt;null&gt;",</span><br><span class="line">         123</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>  <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="拓展2-符号"><a href="#拓展2-符号" class="headerlink" title="拓展2-@符号"></a>拓展2-@符号</h3><p>我们知道在OC中很多关键字前都必须加上@符号，例如@protocol、@property等，当然OC中的字符串必须使用@符号，还有就是%@可以表示输出一个对象。其实@符号在新版的OC中还有一个作用：装箱。</p>
<p>相信聪明的童鞋在前面的例子中已经看到了，这里简单的介绍一下（在下面的演示中你也将看到很多OC新特性）：</p>
<p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;</span><br><span class="line">    spring,</span><br><span class="line">    summer,</span><br><span class="line">    autumn,</span><br><span class="line">    winter</span><br><span class="line">&#125; Season;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="comment">/*装箱*/</span></span><br><span class="line">    <span class="built_in">NSNumber</span> *number1=@<span class="number">100</span>;</span><br><span class="line">    <span class="built_in">NSArray</span> *array1=[<span class="built_in">NSArray</span> arrayWithObjects:number1,<span class="string">@"abc"</span>,@<span class="number">16</span>,@<span class="string">'A'</span>,@<span class="number">16.7</span>,@YES, <span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array1);</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     (</span><br><span class="line">         100,</span><br><span class="line">         abc,</span><br><span class="line">         16,</span><br><span class="line">         65,</span><br><span class="line">         "16.7"</span><br><span class="line">         1</span><br><span class="line">     )</span><br><span class="line">     */</span></span><br><span class="line">    <span class="built_in">NSNumber</span> *number2=@(<span class="number">1</span>+<span class="number">2</span>*<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,number2); <span class="comment">//结果：7</span></span><br><span class="line">    <span class="built_in">NSNumber</span> *number3=@(autumn);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,number3); <span class="comment">//结果：2</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSArray</span> *array2=@[<span class="string">@"abc"</span>,@<span class="number">16</span>,@<span class="string">'A'</span>,@<span class="number">16.7</span>,@YES];<span class="comment">//使用这种方式最后不用添加nil值了</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array2[<span class="number">2</span>]); <span class="comment">//结果：65</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *array3=[<span class="built_in">NSMutableArray</span> arrayWithArray:array2];</span><br><span class="line">    array3[<span class="number">0</span>]=<span class="string">@"def"</span>;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array3[<span class="number">0</span>]); <span class="comment">//结果：def</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSDictionary</span> *dic1=@&#123;<span class="string">@"a"</span>:@<span class="number">123</span>,<span class="string">@"b"</span>:@<span class="string">'c'</span>,<span class="string">@"c"</span>:@YES&#125;;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,dic1);</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     &#123;</span><br><span class="line">         a = 123;</span><br><span class="line">         b = 99;</span><br><span class="line">         c = 1;</span><br><span class="line">     &#125;</span><br><span class="line">     */</span></span><br><span class="line">    <span class="built_in">NSMutableDictionary</span> *dic2=[<span class="built_in">NSMutableDictionary</span> dictionaryWithDictionary:dic1];</span><br><span class="line">    dic2[<span class="string">@"a"</span>]=@<span class="number">456</span>;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,dic2[<span class="string">@"a"</span>]);<span class="comment">//结果：456</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><p>由于OC动态性，在OC中实现反射可以说是相当简单，下面代码中演示了常用的反射操作，具体作用也都在代码中进行了注释说明:</p>
<p>&lt; 代码示例 &gt;</p>
<p><em>Account.h</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Account</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">assign</span>) <span class="keyword">double</span> balance;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Account.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Account.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Account</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Person.h</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Account</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Person</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">copy</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,retain) Account *account;</span><br><span class="line"></span><br><span class="line">-(Person *)initWithName:(<span class="built_in">NSString</span> *)name;</span><br><span class="line"></span><br><span class="line">+(Person *)personWithName:(<span class="built_in">NSString</span> *)name;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)showMessage:(<span class="built_in">NSString</span> *)infomation;</span><br><span class="line"></span><br><span class="line"><span class="comment">//自己实现对象比较方法</span></span><br><span class="line">-(<span class="built_in">NSComparisonResult</span>)comparePerson:(Person *)person;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Person.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Person.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Person</span></span></span><br><span class="line"></span><br><span class="line">-(Person *)initWithName:(<span class="built_in">NSString</span> *)name&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">self</span>=[<span class="keyword">super</span> init])&#123;</span><br><span class="line">        <span class="keyword">self</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+(Person *)personWithName:(<span class="built_in">NSString</span> *)name&#123;</span><br><span class="line">    Person *person=[[Person alloc]initWithName:name];</span><br><span class="line">    <span class="keyword">return</span> person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)showMessage:(<span class="built_in">NSString</span> *)infomation&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"My name is %@,the infomation is \"%@\"."</span>,_name,infomation);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//自己实现对象比较方法</span></span><br><span class="line">-(<span class="built_in">NSComparisonResult</span>)comparePerson:(Person *)person&#123;</span><br><span class="line">    <span class="keyword">return</span> [_name compare:person.name];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="built_in">NSString</span> *)description&#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"name=%@"</span>,_name];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Person.h"</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="comment">/*常用方法*/</span></span><br><span class="line">    Person *person1=[Person personWithName:<span class="string">@"Kenshin"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%i"</span>,[person1 isKindOfClass:[<span class="built_in">NSObject</span> class]]); <span class="comment">//判断一个对象是否为某种类型（如果是父类也返回YES），结果：1</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%i"</span>,[person1 isMemberOfClass:[<span class="built_in">NSObject</span> class]]); <span class="comment">//判断一个对象是否是某个类的实例化对象，结果：0</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%i"</span>,[person1 isMemberOfClass:[Person class]]); <span class="comment">//结果：1</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%i"</span>,[person1 conformsToProtocol:<span class="class"><span class="keyword">@protocol</span>(<span class="title">NSCopying</span>)]);//是否实现了某个协议，结果：0</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%i"</span>,[person1 respondsToSelector:<span class="keyword">@selector</span>(showMessage:)]);<span class="comment">//是否存在某个方法，结果：1</span></span><br><span class="line">    </span><br><span class="line">    [person1 showMessage:<span class="string">@"Hello,world!"</span>];<span class="comment">//直接调用一个方法</span></span><br><span class="line">    [person1 performSelector:<span class="keyword">@selector</span>(showMessage:) withObject:<span class="string">@"Hello,world!"</span>];</span><br><span class="line">    <span class="comment">//动态调用一个方法，注意如果有参数那么参数类型只能为ObjC对象，并且最多只能有两个参数</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*反射*/</span></span><br><span class="line">    <span class="comment">//动态生成一个类</span></span><br><span class="line">    <span class="built_in">NSString</span> *className=<span class="string">@"Person"</span>;</span><br><span class="line">    Class myClass=<span class="built_in">NSClassFromString</span>(className);<span class="comment">//根据类名生成类</span></span><br><span class="line">    Person *person2=[[myClass alloc]init]; <span class="comment">//实例化</span></span><br><span class="line">    person2.name=<span class="string">@"Kaoru"</span>;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,person2);<span class="comment">//结果：name=Kaoru</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//类转化为字符串</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@,%@"</span>,<span class="built_in">NSStringFromClass</span>(myClass),<span class="built_in">NSStringFromClass</span>([Person class])); <span class="comment">//结果：Person,Person</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//调用方法</span></span><br><span class="line">    <span class="built_in">NSString</span> *methodName=<span class="string">@"showMessage:"</span>;</span><br><span class="line">    SEL mySelector=<span class="built_in">NSSelectorFromString</span>(methodName);</span><br><span class="line">    Person *person3=[[myClass alloc]init];</span><br><span class="line">    person3.name=<span class="string">@"Rosa"</span>;</span><br><span class="line">    [person3 performSelector:mySelector withObject:<span class="string">@"Hello,world!"</span>]; <span class="comment">//结果：My name is Rosa,the infomation is "Hello,world!".</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//方法转化为字符串</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,<span class="built_in">NSStringFromSelector</span>(mySelector)); <span class="comment">//结果：showMessage:</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><p>让我们看一下Foundation中文件操作，下面将以一个例子进行说明：</p>
<p>&lt; 代码示例 &gt;</p>
<p><em>main.m</em></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*目录操作*/</span></span><br><span class="line"><span class="keyword">void</span> test1()&#123;</span><br><span class="line">    <span class="comment">//文件管理器是专门用于文件管理的类</span></span><br><span class="line">    <span class="built_in">NSFileManager</span> *manager=[<span class="built_in">NSFileManager</span> defaultManager];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//获得当前程序所在目录(当然可以改变)</span></span><br><span class="line">    <span class="built_in">NSString</span> *currentPath=[manager currentDirectoryPath];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"current path is :%@"</span>,currentPath);</span><br><span class="line">    <span class="comment">//结果：/Users/kenshincui/Library/Developer/Xcode/DerivedData/FoundationFramework-awxjohcpgsqcpsanqofqogwbqgbx/Build/Products/Debug</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//创建目录</span></span><br><span class="line">    <span class="built_in">NSString</span> *myPath=<span class="string">@"/Users/kenshincui/Desktop/myDocument"</span>;</span><br><span class="line">    <span class="built_in">BOOL</span> result= [manager createDirectoryAtPath:myPath withIntermediateDirectories:<span class="literal">YES</span> attributes:<span class="literal">nil</span> error:<span class="literal">nil</span>];</span><br><span class="line">    <span class="keyword">if</span>(result==<span class="literal">NO</span>)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Couldn't create directory!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//目录重命名，如果需要删除目录只要调用removeItemAtPath:&lt;#(NSString *)#&gt; error:&lt;#(NSError **)#&gt;</span></span><br><span class="line">    <span class="built_in">NSError</span> *error;</span><br><span class="line">    <span class="built_in">NSString</span> *newPath=<span class="string">@"/Users/kenshincui/Desktop/myNewDocument"</span>;</span><br><span class="line">    <span class="keyword">if</span>([manager moveItemAtPath:myPath toPath:newPath error:&amp;error]==<span class="literal">NO</span>)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Rename directory failed!Error infomation is:%@"</span>,error);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//改变当前目录</span></span><br><span class="line">    <span class="keyword">if</span>([manager changeCurrentDirectoryPath:newPath]==<span class="literal">NO</span>)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Change current directory failed!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"current path is :%@"</span>,[manager currentDirectoryPath]);</span><br><span class="line">    <span class="comment">//结果：current path is :/Users/kenshincui/Desktop/myNewDocument</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//遍历整个目录</span></span><br><span class="line">    <span class="built_in">NSString</span> *path;</span><br><span class="line">    <span class="built_in">NSDirectoryEnumerator</span> *directoryEnumerator= [manager enumeratorAtPath:newPath];</span><br><span class="line">    <span class="keyword">while</span> (path=[directoryEnumerator nextObject]) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,path);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     documents</span><br><span class="line">     est.txt</span><br><span class="line">    */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//或者这样遍历</span></span><br><span class="line">    <span class="built_in">NSArray</span> *paths= [manager contentsOfDirectoryAtPath:newPath error:<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSObject</span> *p;</span><br><span class="line">    <span class="keyword">for</span> (p <span class="keyword">in</span> paths) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     documents</span><br><span class="line">     est.txt</span><br><span class="line">     */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*文件操作*/</span></span><br><span class="line"><span class="keyword">void</span> test2()&#123;</span><br><span class="line">    <span class="built_in">NSFileManager</span> *manager=[<span class="built_in">NSFileManager</span> defaultManager];</span><br><span class="line">    <span class="built_in">NSString</span> *filePath=<span class="string">@"/Users/kenshincui/Desktop/myNewDocument/test.txt"</span>;</span><br><span class="line">    <span class="built_in">NSString</span> *filePath2=<span class="string">@"/Users/kenshincui/Desktop/test.txt"</span>;</span><br><span class="line">    <span class="built_in">NSString</span> *newPath=<span class="string">@"/Users/kenshincui/Desktop/myNewDocument/test2.txt"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//判断文件是否存在，这个方法也可以判断目录是否存在，这要后面的参数设置位YES</span></span><br><span class="line">    <span class="keyword">if</span> ([manager fileExistsAtPath:filePath isDirectory:<span class="literal">NO</span>]) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"File exists！"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//文件是否可读</span></span><br><span class="line">    <span class="keyword">if</span>([manager isReadableFileAtPath:filePath])&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"File is readable!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//判断两个文件内容是否相等</span></span><br><span class="line">    <span class="keyword">if</span> ([manager contentsEqualAtPath:filePath andPath:filePath2]) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"file1 equals file2"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//文件重命名，方法类似于目录重命名</span></span><br><span class="line">    <span class="keyword">if</span> (![manager moveItemAtPath:filePath toPath:newPath error:<span class="literal">nil</span>]) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Rename file1 failed!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//文件拷贝</span></span><br><span class="line">    <span class="built_in">NSString</span> *filePath3=<span class="string">@"/Users/kenshincui/Desktop/test3.txt"</span>;</span><br><span class="line">    <span class="keyword">if</span>(![manager copyItemAtPath:newPath toPath:filePath3 error:<span class="literal">nil</span>])&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Copy failed!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//读取文件属性</span></span><br><span class="line">    <span class="built_in">NSDictionary</span> *attributes;</span><br><span class="line">    <span class="keyword">if</span> ((attributes=[manager attributesOfItemAtPath:newPath error:<span class="literal">nil</span>])==<span class="literal">nil</span>) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Read attributes failed!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">NSObject</span> *key <span class="keyword">in</span> attributes) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@=%@"</span>,key,attributes[key]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">         NSFileOwnerAccountID=501</span><br><span class="line">         NSFileHFSTypeCode=0</span><br><span class="line">         NSFileSystemFileNumber=1781953</span><br><span class="line">         NSFileExtensionHidden=0</span><br><span class="line">         NSFileSystemNumber=16777218</span><br><span class="line">         NSFileSize=27</span><br><span class="line">         NSFileGroupOwnerAccountID=20</span><br><span class="line">         NSFileOwnerAccountName=kenshincui</span><br><span class="line">         NSFileCreationDate=2014-07-28 11:47:58 +0000</span><br><span class="line">         NSFilePosixPermissions=420</span><br><span class="line">         NSFileHFSCreatorCode=0</span><br><span class="line">         NSFileType=NSFileTypeRegular</span><br><span class="line">         NSFileExtendedAttributes=&#123;</span><br><span class="line">         "com.apple.TextEncoding" = &lt;7574662d 383b3133 34323137 393834&gt;;</span><br><span class="line">         &#125;</span><br><span class="line">         NSFileGroupOwnerAccountName=staff</span><br><span class="line">         NSFileReferenceCount=1</span><br><span class="line">         NSFileModificationDate=2014-07-28 11:47:58 +0000</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//删除文件</span></span><br><span class="line">    [manager removeItemAtPath:newPath error:<span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//文件操作--文件内容操作（NSData，非结构化字节流对象，有缓冲区管理机制，可用于网络传输）</span></span><br><span class="line"><span class="keyword">void</span> test3()&#123;</span><br><span class="line">    <span class="built_in">NSFileManager</span> *manager=[<span class="built_in">NSFileManager</span> defaultManager];</span><br><span class="line">    <span class="built_in">NSString</span> *filePath=<span class="string">@"/Users/kenshincui/Desktop/myNewDocument/test2.txt"</span>;</span><br><span class="line">    <span class="built_in">NSData</span> *data=[manager contentsAtPath:filePath];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,data);<span class="comment">//存储的是二进制字节流</span></span><br><span class="line">    <span class="comment">//结果:&lt;68656c6c 6f20776f 726c642c e4b896e7 958ce4bd a0e5a5bd efbc81&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//NSData转化成字符串</span></span><br><span class="line">    <span class="built_in">NSString</span> *str1=[[<span class="built_in">NSString</span> alloc]initWithData:data encoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str1);</span><br><span class="line">    <span class="comment">//结果：hello world,世界你好！</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//字符串转化成NSData</span></span><br><span class="line">    <span class="built_in">NSString</span> *str2=<span class="string">@"Kenshin"</span>;</span><br><span class="line">    <span class="built_in">NSData</span> *data2=[str2 dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,data2);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//当然一般如果仅仅是简单读取文件内容，直接用户NSString方法即可</span></span><br><span class="line">    <span class="built_in">NSString</span> *content=[<span class="built_in">NSString</span> stringWithContentsOfFile:filePath encoding:<span class="built_in">NSUTF8StringEncoding</span> error:<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,content);</span><br><span class="line">    <span class="comment">//结果：hello world,世界你好！</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//文件操作--细粒度控制文件,文件操作柄</span></span><br><span class="line"><span class="keyword">void</span> test4()&#123;</span><br><span class="line">    <span class="built_in">NSFileManager</span> *manager=[<span class="built_in">NSFileManager</span> defaultManager];</span><br><span class="line">    <span class="built_in">NSString</span> *filePath=<span class="string">@"/Users/kenshincui/Desktop/myNewDocument/test2.txt"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//以只读方式打开文件</span></span><br><span class="line">    <span class="built_in">NSFileHandle</span> *fileHandle=[<span class="built_in">NSFileHandle</span> fileHandleForReadingAtPath:filePath];<span class="comment">//注意这个方法返回类型为instancetype，也就是说对于上面的NSFileHandle它的返回类型也是NSFileHandle</span></span><br><span class="line">    <span class="built_in">NSData</span> *data= [fileHandle readDataToEndOfFile];<span class="comment">//完整读取文件</span></span><br><span class="line">    <span class="built_in">NSString</span> *newPath=<span class="string">@"/Users/kenshincui/Desktop/test4.txt"</span>;</span><br><span class="line">    [manager createFileAtPath:newPath contents:<span class="literal">nil</span> attributes:<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSFileHandle</span> *fileHandle2=[<span class="built_in">NSFileHandle</span> fileHandleForWritingAtPath:newPath];<span class="comment">//以可写方式打开文件</span></span><br><span class="line">    [fileHandle2 writeData:data];<span class="comment">//写入文件内容</span></span><br><span class="line">    </span><br><span class="line">    [fileHandle2 closeFile];<span class="comment">//关闭文件</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//定位到指定位置,默认在文件开头</span></span><br><span class="line">    [fileHandle seekToFileOffset:<span class="number">12</span>];</span><br><span class="line">    <span class="built_in">NSData</span> *data2= [fileHandle readDataToEndOfFile];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"data2=%@"</span>,[[<span class="built_in">NSString</span> alloc]initWithData:data2 encoding:<span class="built_in">NSUTF8StringEncoding</span>]);</span><br><span class="line">    <span class="comment">//结果：data2=世界你好！</span></span><br><span class="line">    </span><br><span class="line">    [fileHandle seekToFileOffset:<span class="number">6</span>];</span><br><span class="line">    <span class="built_in">NSData</span> *data3=[fileHandle readDataOfLength:<span class="number">5</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"data3=%@"</span>,[[<span class="built_in">NSString</span> alloc]initWithData:data3 encoding:<span class="built_in">NSUTF8StringEncoding</span>]);</span><br><span class="line">    <span class="comment">//结果：data3=world</span></span><br><span class="line">    </span><br><span class="line">    [fileHandle closeFile];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//文件路径</span></span><br><span class="line"><span class="keyword">void</span> test5()&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *filePath=<span class="string">@"/Users/kenshincui/Desktop/myDocument"</span>;</span><br><span class="line">    <span class="built_in">NSString</span> *filePath2=<span class="string">@"/Users/kenshincui/Desktop/test.txt"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//临时文件所在目录</span></span><br><span class="line">    <span class="built_in">NSString</span> *path=<span class="built_in">NSTemporaryDirectory</span>();</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"temporary directory is :%@"</span>,path);</span><br><span class="line">    <span class="comment">//结果：/var/folders/h6/lss6gncs509c2pgzgty3wd_40000gn/T/</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSString</span> *lastComponent= [filePath lastPathComponent];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,lastComponent); <span class="comment">//结果：myDocument</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[filePath stringByDeletingLastPathComponent]);</span><br><span class="line">    <span class="comment">//结果：/Users/kenshincui/Desktop</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[filePath stringByAppendingPathComponent:<span class="string">@"Pictrues"</span>]);</span><br><span class="line">    <span class="comment">//结果：/Users/kenshincui/Desktop/myDocument/Pictrues</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[filePath2 pathExtension]);</span><br><span class="line">    <span class="comment">//结果：txt</span></span><br><span class="line">    </span><br><span class="line">    [[filePath pathComponents] enumerateObjectsUsingBlock:^(<span class="keyword">id</span> obj, <span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%i=%@"</span>,idx,obj);</span><br><span class="line">    &#125;];</span><br><span class="line">    <span class="comment">/*结果：</span><br><span class="line">     0=/</span><br><span class="line">     1=Users</span><br><span class="line">     2=kenshincui</span><br><span class="line">     3=Desktop</span><br><span class="line">     4=myDocument</span><br><span class="line">     */</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//文件操作--NSURL</span></span><br><span class="line"><span class="keyword">void</span> test6()&#123;</span><br><span class="line">    <span class="built_in">NSURL</span> *url=[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://developer.apple.com"</span>];</span><br><span class="line">    <span class="built_in">NSString</span> *str1=[<span class="built_in">NSString</span> stringWithContentsOfURL:url encoding:<span class="built_in">NSUTF8StringEncoding</span> error:<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//文件操作--NSBundle，程序包，一般用于获取Resource中的资源（当然由于当前并非IOS应用没有程序包，只是表示当前程序运行路径）</span></span><br><span class="line"><span class="comment">//在ios中经常用于读取应用程序中的资源文件，如图片、声音、视频等</span></span><br><span class="line"><span class="keyword">void</span> test7()&#123;</span><br><span class="line">    <span class="comment">//在程序包所在目录创建一个文件</span></span><br><span class="line">    <span class="built_in">NSFileManager</span> *manager=[<span class="built_in">NSFileManager</span> defaultManager];</span><br><span class="line">    <span class="built_in">NSString</span> *currentPath=[manager currentDirectoryPath];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"current path is :%@"</span>,currentPath);</span><br><span class="line">    <span class="comment">//结果：current path is :/Users/kenshincui/Library/Developer/Xcode/DerivedData/FoundationFramework-awxjohcpgsqcpsanqofqogwbqgbx/Build/Products/Debug</span></span><br><span class="line">    <span class="built_in">NSString</span> *filePath=[currentPath stringByAppendingPathComponent:<span class="string">@"test.txt"</span>];</span><br><span class="line">    [manager createFileAtPath:filePath contents:[<span class="string">@"Hello,world!"</span> dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>] attributes:<span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//利用NSBundle在程序包所在目录查找对应的文件</span></span><br><span class="line">    <span class="built_in">NSBundle</span> *bundle=[<span class="built_in">NSBundle</span> mainBundle];<span class="comment">//主要操作程序包所在目录</span></span><br><span class="line">    <span class="comment">//如果有test.txt则返回路径，否则返回nil</span></span><br><span class="line">    <span class="built_in">NSString</span> *path=[bundle pathForResource:<span class="string">@"test"</span> ofType:<span class="string">@"txt"</span>];<span class="comment">//也可以写成：[bundle pathForResource:@"instructions.txt" ofType:nil];</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,path);</span><br><span class="line">    <span class="comment">//结果：/Users/kenshincui/Library/Developer/Xcode/DerivedData/FoundationFramework-awxjohcpgsqcpsanqofqogwbqgbx/Build/Products/Debug/test.txt</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[<span class="built_in">NSString</span> stringWithContentsOfFile:path encoding:<span class="built_in">NSUTF8StringEncoding</span> error:<span class="literal">nil</span>]);</span><br><span class="line">    <span class="comment">//结果：Hello,world!</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//假设我们在程序运行创建一个Resources目录，并且其中新建pic.jpg，那么用下面的方法获得这个文件完整路径</span></span><br><span class="line">    <span class="built_in">NSString</span> *path1= [bundle pathForResource:<span class="string">@"pic"</span> ofType:<span class="string">@"jpg"</span> inDirectory:<span class="string">@"Resources"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,path1);</span><br><span class="line">    <span class="comment">//结果：/Users/kenshincui/Library/Developer/Xcode/DerivedData/FoundationFramework-awxjohcpgsqcpsanqofqogwbqgbx/Build/Products/Debug/Resources/pic.jpg</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc,<span class="keyword">char</span> *argv[])&#123;</span><br><span class="line"></span><br><span class="line">    test1();</span><br><span class="line">    test2();</span><br><span class="line">    test3();</span><br><span class="line">    test4();</span><br><span class="line">    test5();</span><br><span class="line">    test6();</span><br><span class="line">    test7();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://www.cnblogs.com/mjios/" target="_blank" rel="external">M了个J的博客</a></p>
<hr>

      
    </div>
    
    <div>
      
        
      
    </div>

    <div>
      
        
<div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center">
<div>想请我吃辣条吗？</div>
<button id="rewardButton", disable="enable", onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}", style="cursor: pointer; border: 0; outline: 0; border-radius: 100%; padding: 0; margin: 0; letter-spacing: normal; text-transform: none; text-indent: 0px; text-shadow: none">
<span onmouseover="this.style.color='rgb(236,96,0)';this.style.background='rgb(204,204,204)'" onMouseOut="this.style.color='#fff';this.style.background='rgb(236,96,0)'" style="display: inline-block; width: 70px; height: 70px; border-radius: 100%; line-height: 81px; color: #fff; font: 400 35px/75px 'microsofty'; background: rgb(236,96,0)">赏</span>
</button>
<div id="QR" style="display: none;">

<div id="wechat" style="display: inline-block">
<img id="wechat_qr" src="http://i4.piimg.com/508f386ab6942876.jpg" alt="SanFordy WeChat Pay" style="width: 200px; max-width: 100%; display: inline-block"/>
<p>微信打赏</p>
</div>


<div id="alipay" style="display: inline-block">
<img id="alipay_qr" src="http://i4.piimg.com/481cbcc6ec69d37b.png" alt="SanFordy Alipay" style="width: 200px; max-width: 100%; display: inline-block"/>
<p>支付宝打赏</p>
</div>

</div>
</div>

      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/08/31/〖A〗【2-0】OC-语法/【15】键值监听（KVO）/" rel="next" title="【15】键值监听（KVO）">
                <i class="fa fa-chevron-left"></i> 【15】键值监听（KVO）
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/08/31/〖A〗【2-0】OC-语法/【16】Foundation框架/"
           data-title="【16】Foundation框架" data-url="http://sanfordy.com/2016/08/31/〖A〗【2-0】OC-语法/【16】Foundation框架/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/icon.jpg"
               alt="SanFordy" />
          <p class="site-author-name" itemprop="name">SanFordy</p>
          <p class="site-description motion-element" itemprop="description">I am a happy programmer.</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">46</span>
              <span class="site-state-item-name">归档</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="" target="_blank" title="GitHub">
                  
                    <i class="fa fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="" target="_blank" title="Weibo">
                  
                    <i class="fa fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="" target="_blank" title="Twitter">
                  
                    <i class="fa fa-twitter-square"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="" target="_blank" title="Facebook">
                  
                    <i class="fa fa-facebook-square"></i>
                  
                  Facebook
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="" target="_blank" title="Stackoverflow">
                  
                    <i class="fa fa-stack-overflow"></i>
                  
                  Stackoverflow
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="" target="_blank" title="Zhihu">
                  
                    <i class="fa fa-book"></i>
                  
                  Zhihu
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="" target="_blank" title="Douban">
                  
                    <i class="fa fa-coffee"></i>
                  
                  Douban
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        
          <div class="links-of-blogroll motion-element">
            <div class="links-of-blogroll-title">
              <i class="fa fa-globe fa-fw"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.guijj.com/pics/201404/535a0243a9698.gif" title="biggift" target="_blank">biggift</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Cocoa概述"><span class="nav-number">1.</span> <span class="nav-text">Cocoa概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Foundation概述"><span class="nav-number">2.</span> <span class="nav-text">Foundation概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用结构体"><span class="nav-number">3.</span> <span class="nav-text">常用结构体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#日期"><span class="nav-number">4.</span> <span class="nav-text">日期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串"><span class="nav-number">5.</span> <span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#NSString"><span class="nav-number">5.1.</span> <span class="nav-text">NSString</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NSMutableString"><span class="nav-number">5.2.</span> <span class="nav-text">NSMutableString</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#拓展：文件操作"><span class="nav-number">5.3.</span> <span class="nav-text">拓展：文件操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组"><span class="nav-number">6.</span> <span class="nav-text">数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#NSArray"><span class="nav-number">6.1.</span> <span class="nav-text">NSArray</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NSMutableArray"><span class="nav-number">6.2.</span> <span class="nav-text">NSMutableArray</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数组的三种排序"><span class="nav-number">6.3.</span> <span class="nav-text">数组的三种排序</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#简单排序"><span class="nav-number">6.3.1.</span> <span class="nav-text">简单排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#利用block"><span class="nav-number">6.3.2.</span> <span class="nav-text">利用block</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#高级排序"><span class="nav-number">6.3.3.</span> <span class="nav-text">高级排序</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字典"><span class="nav-number">7.</span> <span class="nav-text">字典</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#NSDictionary"><span class="nav-number">7.1.</span> <span class="nav-text">NSDictionary</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NSMutableDictionary"><span class="nav-number">7.2.</span> <span class="nav-text">NSMutableDictionary</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#集合"><span class="nav-number">8.</span> <span class="nav-text">集合</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#NSSet"><span class="nav-number">8.1.</span> <span class="nav-text">NSSet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NSMutableSet"><span class="nav-number">8.2.</span> <span class="nav-text">NSMutableSet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NSCountedSet"><span class="nav-number">8.3.</span> <span class="nav-text">NSCountedSet</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#装箱和拆箱"><span class="nav-number">9.</span> <span class="nav-text">装箱和拆箱</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#NSNumber：用于基本数据类型"><span class="nav-number">9.1.</span> <span class="nav-text">NSNumber：用于基本数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NSValue：用于任何数据类型"><span class="nav-number">9.2.</span> <span class="nav-text">NSValue：用于任何数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Foundation结构体"><span class="nav-number">9.2.1.</span> <span class="nav-text">Foundation结构体</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自定义的结构体"><span class="nav-number">9.2.2.</span> <span class="nav-text">自定义的结构体</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#拓展1-NSNull"><span class="nav-number">9.3.</span> <span class="nav-text">拓展1-NSNull</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#拓展2-符号"><span class="nav-number">9.4.</span> <span class="nav-text">拓展2-@符号</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#反射"><span class="nav-number">10.</span> <span class="nav-text">反射</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件操作"><span class="nav-number">11.</span> <span class="nav-text">文件操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考"><span class="nav-number">12.</span> <span class="nav-text">参考</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2014 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SanFordy</span>
</div>





        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"sanfordy"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js"></script>
    
  





  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';                
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });
                            
                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').mousedown(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>

  

  

  

</body>
</html>
